!function(t,e,i){if(t.global=t,"object"==typeof exports);else if("function"==typeof define)define("dialog",e);else{var n={exports:{}};e(void 0,n.exports,n),t.dialog=n.exports}}(this,function(t,e,i){var n,r=20160516,s=r,a=0,o=0,u=document,c=u.documentElement,h=/ie\s*(6|5)/gi.test(navigator.userAgent),l=/(?:trident\/\d*.*rv[^\w]*\d*|msie\s*)/i.test(navigator.userAgent),f=/\[object\s(\w+)\]/,p=/\s*[,|]\s*/,d=/\s*[;|]\s*/,m=/\s*:\s*/,g=/((\d+)\-(\d+))/,v=/(?:\,|\|{2})/,y=/=>/,k=/(?:=>|,)/,b=/--\w/,S=/\s+/g,x=/(?=\w|^)-([a-z])/g,w=/^-?\d+(?:\.\d+)?/,_=/^[-+]?\d+(?:\.\d+)?$/,P=/(?:^|;\s*)center\s*:\s*false/,N=/^\s*([\+\-\*\/])=(\d+)\w*/,E=/(height|width|top|left|bottom|right|size|radius|padding|margin|border|(--[\w]+))(?:\=|$)/i,R=/^(?:area|base|br|col|colgroup|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/,T=h?"absolute":"fixed",$="div",C="e-dialog",A="",B=".",L="*",D="$1",I=":",M=",",z="|",F="mix",W="target;srcElement=>target",H="px",Q="data",G="number",O="hover-show-hand",U="offsetWidth",j="offsetHeight",V="length",K="paddingLeft|padding-left=>l,paddingTop|padding-top=>t,paddingRight|padding-right=>r,paddingBottom|padding-bottom=>b",J=["innerHTML","value"],Z=["getAttribute","setAttribute"],q=["querySelector","querySelectorAll"],X={},Y={},tt={},et=[];function isEmpty(t){for(var e in t)return!1;return!0}function iTypeTo(t){return tt.toString.call(t)}var it=iTypeTo(A),nt=iTypeTo(window);function isSimplyType(t){return/\[object (?:string|number|boolean|null|undefined|Symbol)\]/i.test(iTypeTo(t))}function isArray(t){return t instanceof Array}function isType(t,e){return iTypeTo(t)==e}function isString(t){return isType(t,it)}var rt=function(t){return isType(t,"[object NodeList]")||isArray(t)};function iContent4Element(t){return J[+/input|textarea/i.test(t)]}function iSplit(t,e){return t.split(e||d)}function iJoin(t,e){return isArray(t)&&t.join(e||A)||A}function iList2Array(t){return t&&1===t.length?[t[0]]:Array.apply(n,t)}var st={number:function(t){return parseFloat(t)},float:function(t){return parseFloat(t)},int:function(t){return parseInt(t)}},at={CENTER:"center",rWidth:/top|bottom/,aLT:["left","top"],aWH:["width","height"],rPosition:/(?:(center)|(left|top|right|bottom))/g,css:function(t,e,i,n,r){r=this.aWH[n],t[this.aLT[n]]=(e[r]-i[r])/2},trigger:function(t,e,i){var n=this.CENTER;t||(t=n),i||(i={});for(var r,s,a,o={},u=this.rWidth,c=t.match(this.rPosition),h=0,l=c.length;h<l;h++)(a=c[h])!=n?o[a]=0:(s=c[(h+1)%l],r=+!u.test(s),this.css(o,i,e,r),s==a&&this.css(o,i,e,+!r));return o}},ot={WHITE:" ",ID:"#",TAG:"tag",QUTO:'"',ATTR:"[",INNER:"{",CHILD:">",CLAZZ:".",SIBLING:"+",BLOCK:"(",BLOCKEND:")",INNEREND:"}",ESCAPE:"\\",aMode:["<tag#.[>#*i*#</tag>","<tag#.[/>"],rVal:/^\s*(.*)$/,rPar:/\({2}\s*(?:((?:(?!\){2}|\\\|)[\w\W])+\|)(?=[.#\{\w]))?((?:(?!\){2})[\w\W])+\s*)\){2}/g,rSimplySelector:/\((\+?\s*(?:[#\.]?\w+|\[[^\[\]]*\]|\{[^\{\}]*\})+\+?)\)(?=\s*\+)/g,rIsForbid:/(?:[^\w-:~]+|^[\s]+)$/,rSimply:R,rNL:/[\r\n]/,rWhite:/[\s]/,_default:{"#":[/#/,A,' id="$1"'],".":[/\./,A,' class="$1"'],"[":[/\[/,A," $1"],tag:[/tag/g,"span",function(t,e,i){return i-1&&t.indexOf(I)>=1?iSplit(t,I)[0]:t},D],"{":[/#\*i\*#/g,A,D]},INDEXS:["tag",".","#","[","{"],factory:function(){return{tag:[],".":[],"#":[],"[":[],"{":[]}},toHtml:function(t,e){var i=this.xcode(t.replace(this.rSimplySelector,"($1>)"),0,e).parent;return-1==i?t:this.build(i)},build:function(t){var e,i;if(-1==t)return A;for(var r,s,a=this.aMode[+this.rSimply.test(iJoin(t.tag))],o=this._default,u=this.INDEXS,c=0,h=0,l=u.length;h<l;h++)e=iJoin(t[r=u[h]]),c||l-h!=1?(i=o[r],s=e?e.replace(this.rVal,i[h?2:3]):i[1],a=a.replace(i[0],h?e?s:i[1]:i[2].bind(n,s))):a=e,c+=+!!e;return a},xcode:function(t,e,i,r){for(var s,a,o,u,c,h,l=this.factory(),f=0,p=this.ID,d=this.ATTR,m=this.INNER,g=this.CLAZZ,v=this.CHILD,y=this.SIBLING,k=this.INNEREND,b=this.BLOCKEND,S=this.BLOCK,x=this.QUTO,w=this.rNL,_=this.rWhite,P=0,N=!1,E=!1,R=l[m],T=e,$=t.length;T<$;T++){if(u){T--,u=!1;break}if(s=t[T],!(w.test(s)&&(E=!0)||E&&_.test(s)))if(E=!1,h=l[a=a||"tag"],t[T-1]!=this.ESCAPE)if(P+=-1*+(k==s)||+(m==s),s!=x||P)if(N&&0==P&&(N=!1),f%2||N)h.push(s);else{switch(!1===o&&h.push(this.WHITE),s){case k:case"]":c=!1;break;case d:a=s,c=!0;break;case g:o=!1;case p:case m:c?(h.push(s),o=!0):(s==m&&(N=!0),a=s);break;case v:case y:case S:case b:if(u=i&&(s!=v&&v==r||s==b&&T++))break;e=T+1;var C=this.xcode(t,e,this.rPar,v);R.push(this.build(C.parent)),s==v&&v==r&&(r=n),T=C.index-1;break;default:o=!0,h.push(s)}if(a==this.TAG&&this.rIsForbid.test(iJoin(l.tag)))return{parent:-1}}else f++,h.push(s);else t[T-2]==this.ESCAPE||h.pop(),h.push(s)}return i!==this.rPar&&R.push(i),{index:T,parent:l}}};function selector2Html(t){return ot.toHtml(t)}var ut={},ct=[function(t,e){return e._test(t),css2js(vt.$1)},function(t){return t}];function iAttrs(t,e,i,n){var r;i||(i=Q),t||(t={});var s=ct[+(!0===n)];if(i==Q&&t.dataset)r=t.dataset;else{var a=ut[i]||(ut[i]=i?new RegExp("^"+i+"-(.+)","i"):/.*/);r=t.attributes;var o,u={};for(var c in r)Object.hasOwnProperty.call(r,c)&&(o=r[c],a.test(o.name)&&(u[s(o.name,a)]=o.value));r=u}return iPicker(r,css2js(e||L))}function iSetGetAttr(t,e,i){if(isFunction(i)&&(i=i.call(t,e,t)),null===i)return 1==t.nodeType&&t.removeAttribute(e);var n,r=isNil(i),s=Z[+!r],a=t[s];if(r){if(k.test(e))return iMultiOrReKeys(e,function(e,i,n,r){if(i=iSetGetAttr(t,e))return r[n]=i,!0});var o=a&&t[s](e)||t[e];return isNil(o)?null:o}!a||!isNil(n=t[e])&&isSimplyType(n)?t[e]=i:t[s](e,i)}function iAttr(t,e,i){var n;if(isString(e)){if(isNil(i))return iSetGetAttr(t,e);(n={})[e]=i}else n=e;each(n,function(t,e,i,n){n(i,t,e)},t,iSetGetAttr)}function iFxInnerReplace(t,e){return e.toUpperCase()}function css2js(t){return t.replace(x,iFxInnerReplace)}function iSetStyle(t,e,i,r){if(1==t.nodeType){x.test(e)&&(e=css2js(e)),E.test(e)&&(N._test(i)&&(i=iRuner(Nt[vt.$1],n,vt.$2,St(t,e,G)[e]>>0)),_.test(i)&&(i+=r||H));var s=t.style;b.test(e)?iRuner(s.setProperty,s,e,i,A):s[e]=i}}function iCssGetSet(t,e,i){if(isString(t))return isNil(e)||E.test(t)&&/number|float|int/.test(e)?isNil(e=isSimplyData(St(i,t,e),t))?null:e:iSetStyle(i,t,e);each(t,function(t,e,i,n){iSetStyle(i,t,e,n)},i,e)}function iCss(t,e,i){return iCssGetSet(e,i,t)}var ht=["shift","pop","unshift","push"];function merge(t,e,i,n){var r,s;s=iList2Array(arguments),r=s.pop();var a=!1;/^mix|one|first$/i.test(r)&&(a=!0,r=s.pop()),/^false|true$/gi.test(r)||(s.push(r),r=!1);var o=[[s[ht[+!a]]()]];o[ht[+a+2]](s),each(o[0],function(t,e){each(o[1],function(t,e,i){for(t in e)!r&&i.hasOwnProperty&&i.hasOwnProperty(t)||(i[t]=e[t])},e)})}function iRuner(t,e){if(isNil(t))return n;var i,r=iList2Array(arguments);t=r.shift(),e=r.shift(),isArray(t)||(t=[t]);for(var s=0,a=t.length;s<a;s++)if(t[s]instanceof Function&&(i=t[s].apply(e,r))!==n)return i}function pickVarLine(t,e){var i,n,r=e[t],s=t;if(r)i=r,n=e;else{var a=iToCutByDot(t);n=(s=a[0])in e?e:global;for(var o=0,u=a.length;o<u;o++)(i=n[a[o]])&&(i instanceof Function&&(i=i.call(n)),o!=u-1&&(n=i))}return r={head:s,data:i,parent:n}}var lt=/(?:{(\d+)\-(\d+)}|\[([\w-]+)\]|\{([^,{}\[\]]+)\}|\[([^\[\]\{\}'"]+)\]|([\w$]+)((?:=|:\s*))\?)|{([^,\}\{]+),([^,}]*),([^,}]*)}/g,ft=/(?:,)/,pt={now:function(){return+new Date}},dt=/(?:\W|^)(?:var|let|const|in|while|for|of|this|true|false)\W+/gi,mt=/(?:[\+\-\!]+|[_$\w]+\s*[><=%\+\-\*/|&!^]|\?\s*[_$]*\w+\s*\:)\s*[_$\w]+/;function _GetExp2funcValue(t,e,i){var r,s;if(mt.test(t)){var a=t.replace(dt,A).match(/([a-z_$]+\w*)/gi)||[],o=[];each(a,function(t,e,i,n){i.push(n[e])},o,e),r=new Function(a.join(M),"return "+t).apply(n,o)}else isFunction(r=(s=isNil(r=e[t]))&&i&&/^[_$]*[\w]+$/.test(t)?i:s?i||t:r)&&(r=r.apply(e,isArray(i)?i:isNil(i)?n:[i]));return r}function iStringFormat(t){var e=this,i=arguments.length,n=!isString(e)&&isString(t);if((i>1||isSimplyType(t))&&(t=iList2Array(arguments),n&&(e=t.shift(),1!=t.length||isSimplyType(t[0])||(t=t.shift())),/[?]/.test(e)&&isArray(t)))return TextFormat(e,t);t||(t={});var r=!!t.now;merge(t,pt),t._groups__={};var s=(e+A).replace(lt,function iReplace(t,e,i,n,r,s,a,o,u,c,h){var l,f=this._groups__;if(f&&t in f)return f[t];if(/^\d+$/.test(e+i))return between(e,i);if(u)return _GetExp2funcValue(_GetExp2funcValue(u,this)?c:h,this);if(s)return l=isFunction(this[(s=iSplit(s,ft))[0]])?this[s.shift()].apply(this,s):s[between(0,s.length-1)];var p=r||n||a;if(a||(a=A,o||(o=A)),this&&p){var d=Math.random();return(l=_GetExp2funcValue(p,this,d))==d?t:a+o+l}return f[t]=t,t}.bind(t));return delete t._groups__,r||delete t.now,s}function between(t,e,i,n){isString(t)&&g._test(t)&&(t=vt.$2,e=vt.$3);var r,s,a=+!!n;+t<+e?(r=+t,s=+e):(r=+e,s=+t);var o=s-r+1-2*a;if(!isFunction(i))return(1e6*Math.random()>>0)%o+r;for(;o-- >0&&!iRuner(i,null,r+o+a,s,r););}function giveUHtmlBySelector(t){return t.replace(ot.rPar,function(t,e,i){return ot.toHtml(i,e)})}function iMultiOrReKeys(t,e,i){var r={};return each(isArray(t)?t:iSplit(function formatPickerRule(t){return t.replace(/((?:^|,)(?:(?!\=\>|,).)*(\*)(?=,|$))/g,"$1=>$2")}(t.toString()),v),function(t,e,n,r,s){s(t=iSplit((e=iSplit(e,y))[0]),function(t,e,i,n,r,s,a){return iRuner(n,a,e,t,isNil(i)?e:i,r,t+1==s)},e[1],r,n,t.length,i)},r,e,each,i),isEmpty(r)?n:r}function iPickByRule(t,e,i,r,s,a){var o=iMultiOrReKeys(i,function(t,i,r,o){var u,c=/(?:(?:(.*).|)\*$|\*\.)/._test(r);if(c&&(u=vt.$1)&&(o=iGetDataByLine(u,o,{})),i=iGetDataByLine(t,e,!1),c)return merge(o,i||e),n;if(!isNil(i)){var h,l,f=iRuner(st[s&&s[r]||s],n,i);return i=isNumber(f)?f:isNil(f)?i:n,l=isNil(h=iRuner(a,o,r,i)),isNil(i)&&l||(o[r]=l?i:h),!0}});isNil(o)||r.push(o)}function picktype(t){return iTypeTo(t).replace(f,D)}String.prototype.exec=String.prototype.format=iStringFormat;var gt=picktype(tt);function isNil(t){return t===n}function isFunction(t){return t instanceof Function}function MS(t,e,i){isFunction(e)||(e=function(){}),t.forEach(function(t,i){e.call(this,i,t)},this)}var vt,yt={changeWay:function(t,e,i,n){return e[0]=t,e[1]=i[t],!isNil(this.ret=n.apply(this.context,e))},Array:function(t,e,i){for(var n=0,r=t.length>>0;n<r;n++)if(yt.changeWay.call(this,n,i,t,e))return this.ret},Object:function(t,e,i){for(var n in t)if(t.hasOwnProperty&&t.hasOwnProperty(n)&&yt.changeWay.call(this,n,i,t,e))return this.ret},Set:MS,Map:MS};function each(t,e,i){if(isFunction(e))return(yt[picktype(t)]||yt[gt]).call({context:i||t},t,e,iList2Array(arguments))}yt.NodeList=yt.Array,RegExp.prototype._test=function(t){this.global&&(this.lastIndex=0);var e=t!=n?this.exec(t):n;return vt={},!(!e||!e.length)&&(each(e,function(t,e){0!=t&&(this["$"+t]=e||A)},vt),!0)};var kt={},bt=0;function iPicker(t,e,i,n){if(e==L)return t;var r;if(isArray(e))r=e=e.join(B);else if(!isString(e)||isEmpty(t))return{};var s,a=[],o=!(!0===i||!0===n)&&isArray(t);return o||(t=[t]),each(t,iPickByRule,e,a,i,n),s=o?a:a.pop()||{},r?s[r]:s}each(iSplit("margin,offset,inner",v),function(t,e,i){i[e]=t,bt++},kt);var St=u.defaultView?function(t,e,i){var n;return iPicker(1==t.nodeType?w.test(t.style[e])?t.style:(n=u.defaultView.getComputedStyle(t,A),b.test(e)?n=iMultiOrReKeys(e,function(t,e,i,n){if(e=b.test(t)?iRuner(this.getPropertyValue,this,t):this[t])return n[t]=e,!0},n):n):{},e||L,i)}:function(t,e,i){return iPicker(t.currentStyle,e||L,i)};function Query(t,e,i){return!1===e&&(i=!1,e=n,1)||(i=i===n||i),t instanceof Query?!1===i?t.first():t:isNaN(+t)?(Selector.call(this,t,e,i),this.length=this.result.length,this.animateTasks=[],void each(this.result,function(t,e,i){iListener(i,t,{first:t,context:i,get:function(t){return this.result[t]}},i)},this)):this}var xt=/^<(\w+)\s*([^>]*)(?:\/|>((?:(?!\<\/\1)[\w\W])*)<\/\1|)>$/,wt=/<\w[^<\>]*>/i;function Selector(t,e,i){if(!t)return this.result=[],this;var r;isString(t)&&(!0===e&&(t=t.buildHtml(!0))||wt.test(t))?r=function iSelectorOrHtmlstring2Element(t){var e=xt._test(t),i=function iCreateElement(t){return u.createElement(t||$)}(e?vt.$1:0);if(e){var n=vt.$2,r=vt.$3;return iString2KeyValue(n,function(t,e){this[t]?this[t](this._,e,!0):this.$(this._,t,e)},{"class":iClass,$:iAttr,_:i}),iHtml(i,r).result}return i.innerHTML=t,iList2Array(i.childNodes)}(t):(e||(e=this.result),r=isArray(t)?t:1==t.nodeType||9==t.nodeType||iTypeTo(t)==nt?[t]:function iQuerySelectorByString(t,e,i,r){var s,a,o;i!=A&&isString(i)&&(i=Selector.call(t,i,n,r));if(i&&rt(s=i.result||i))each(s,function(t,e,i,n,s){e=iList2Array((e=Selector.call(i,s,e,r)).result),n.push.apply(n,e)},t,a=[],e);else{if(!isString(e))return[e];i||(i=u);var c,h=q[+!!r];if(_t._test(e)&&(o=u.getElementById(vt.$1))&&(e=e.replace(_t,A),i=o),e=e.replace(/(\:(?:first|last|only|nth|nth-last))(?:\s|$|(\([^\)]+\)))/g,"$1-child$2").replace(/(\[[^=]+=)([^"']+)(\])/g,'$1"$2"$3'),c=e.match(Pt)){if(c[2])return iQuerySelectorByString(t,c[2],iQuerySelectorByString(t,c[1],i,r),r);a=iElementsIs(iList2Array(i.childNodes),c[1])||[]}a=a||i[h]&&i[h](e)||[]}return a}(this,t,e,i));return this.result=r.nodeType?[r]:iList2Array(r),this}var _t=/#(\d+)\w*\s*/,Pt=/^(?:>)\s*(?:([^\s]+))(?:\s+(.*))?/;function iExecSimply(t,e,i,r,s){return t.each(function(t,i,s,a,o,u){return u?iRuner(r,n,e,s,i,o,u):a(e,r,i,o,u,s)},i,s,t,isString(e))}var Nt={};each(["+","-","*","/"],function(t,e){this[e]=new Function("to, cur","return +cur"+e+" +to;")},Nt);var Et={};function rClassInElement(t,e){e||(e=A);var i=t+e;return Et[i]||(Et[i]=new RegExp("(?:(?:^|\\s+)"+t+"(?:s*$|(\\s)+))",e||"g"))}function iClass(t,e,i){if(t&&1==t.nodeType){var n={clazz:t.className};isString(n.clazz)&&(each(iSplit(e,S),function(t,e,n,r){if(e!=A){r=rClassInElement(e);var s=n.clazz;/undefined|false|null/.test(i)?n.clazz=s.replace(r,D):s.search(r)<0&&(n.clazz=(s==A?A:s+" ")+e)}},n),t.className=n.clazz)}}function iHtmlOrAppend(t,e,i,n,r){each(t,function(t,e,i,s,a){var o;1==i.nodeType&&(i=[i]),(r&&(o=[i])||rt(o=i)||i instanceof Query&&(o=i.result)||isString(i)&&(o=iQuery(i).result))&&(!0!==n&&(e[iContent4Element(e.tagName)]=A),a(o,function(t,e,i,n){n(i,e)},e,s))},e,i||new Function,each)}var Rt="["+C+"]";function iRemoveEvent(t,e){var i,r=isString(e)?function string2map(t,e,i){var n={};return each(iSplit(t,e||"&"),function(t,e,n){var r=iSplit(e,"=");(t=r[0])!==A&&(n[t]=r[1]||i)},n),isEmpty(n)?A:n}(e,S,!0):e===n||A;r?i=t:(i=t.find(Rt),Array.prototype.unshift.apply(i.result,t.result));var s=!0!==r&&r;i.each(function(e,i,n,r,s,a,o){var u=s(i),c=n[u];o(c,function(t,e,i,n,r,s,a){(!s||t in s)&&(delete n[t],delete r[t],a(e,function(t,e,i,n){Mt.removeEventListener(i,n,e)},i,t))},i,c,r,a,o),a||delete t[u]},t.events||{},t.E||{},iGetEventMark,s?r:A,each),t.each(e)}var Tt={};function isSimplyData(t,e){var i;return!e||Tt[e]==n&&v.test(e)?t:t[i=Tt[e]||(i=iSplit(e,y),Tt[e]=i[1]||i[0])]}var $t=/([@*\w-.]+)=(?:("|')((?:(?!\2).)*)\2|([^=&\s]*))/,Ct={".":function(t,e){return rClassInElement(t,"i").test(e.className)},"[":function(t,e,i,n){return $t._test(t)?(t=vt.$1,n=vt.$3||vt.$4):n=null,i=iAttr(e,t),null!=n?i===n:null!=i},"#":function(t,e){return e.id==t},tag:function(t,e){return t.toUpperCase()==e.tagName},"{":function(){return!1}};function iElementsIs(t,e,i){var r;if(e!=n&&!S.test(e)){r=[];var s,a=0,o=[],u=isArray(t)?t:[t];for(each(ot.xcode(e,0).parent,function(t,e,i){if(e.length){var r=e.pop();v.test(r)||e.push(r),i.push(function(t,e){return!0===iRuner(this,n,t,e)||n}.bind(Ct[t],(t==B&&e.shift(),iJoin(e).replace(p,z))))}},o);s||(s=u[a++]);)iRuner(o,n,s)?(r.push(s),s=n):s=i?s.parentNode:n}return r}function iPackHtml(t){var e,i=this.result;return isNil(t)?(e=i[0])&&e[iContent4Element(e.tagName)]:(iHtmlOrAppend(i,t,function(t,e){var i=iContent4Element(t.tagName);e.nodeType&&t.appendChild(e)||(t[i]=e)},!1,isString(t)||!isNaN(+t)),this)}function brother(t){var e=[];return this.each(function(e,i,n,r){(r=function changeyourbrother(t,e){return iPicker(t,e?"nextElementSibling|nextSibling=>node":"previousElementSibling|previousSibling=>node")}(i,t).node)&&n.push(r)},e),iQuery(e)}var At=[function(t,e){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))},function(t,e){t.replaceWith(e)}][+("replaceWith"in c)];function AnimateTask(t){each(t,function(t,e){this[t]=e},this)}function iRanks(t,e,i,r){var s=i.host,a=i.config;if(a.ms=Date.now(),r)s.animating=!1,each(a.times,function(t,e){clearInterval(e)}),"true"==r&&s.css(a.to),iRuner(a.callback);else{if(s.animating)return i.immediately=!0;s.animating=!0,a.times={},a.to={},each(a.attributes,function(t,e,i,r,s){++s.count;var a,o=St(i,t,G)[t];+o||(o=0);var u=(a=N._test(e)?iRuner(Nt[vt.$1],n,vt.$2,o):e)-o;if(s.to[t]=a,0==u||isNaN(u))return iSetStyle(i,t,a),void s.count--;s.times[t]=setInterval(function iFlash(t,e,i,r,s,a){var o,u=i-e,c=this.speed;if((o=Date.now()-this.ms)>=c&&(clearInterval(a[t]),o=c,this.count--,0==this.count)){s.animating=!1,iRuner(s.step,s,i),iSetStyle(r,t,i),iRuner(this.callback);var h=s.animateTasks;return h.shift(),h.length>0?h[0].run(0):void 0}var l=u*o/c,f=iRuner(this.easing,s,l/u,t);f!=n&&(l=f*u),iRuner(s.step,s,e+l,t),iSetStyle(r,t,e+l)}.bind(s,t,o,a,i,r,s.times),13)},e,s,a)}}Query.prototype={events:{},html:iPackHtml,on:function(t,e,i){var n=e instanceof Function?e:function(t){var n;(n=iWithIn(e,t.target))&&i.call(n||this,t)};return each(iSplit(t),function(t,e){iEvent(e).call(this,n)},this),this},next:function(){return brother.call(this,!0)},prev:function(){return brother.call(this)},first:function(){return iQuery(this.result[0])},unbind:function(t){return iRemoveEvent(this,t),this},is:function(t){return/^\:visible$/.test(t)?this.each(function(t,e){return 0!=e.offsetHeight||0!=e.offsetWidth}):iElementsIs(this.result,t).length>0},appendTo:function(t){return iQuery(t).append(this.result),this},append:function(t){return iHtmlOrAppend(this.result,t,function(t,e){t.appendChild(e)},!0),this},parent:function(t,e){var i=[];return this.each(function(t,e,i,n,r,s){(s=n?iWithIn(r,e):e.parentNode)&&i.push(s)},i,isString(t),t),iQuery(i,n,e)},insert:function(t,e){var i=iQuery(t,n,0),r=i.parentNode;if(r&&this.length&&this.each(function(t,e,i){r.insertBefore(e,i)},i),e){var s=this[this.length-1],a=s.nextSibling;r.insertBefore(i,s||a),a||r.insertBefore(s,i)}return this},stop:function(t,e){for(var i,n=this.animateTasks;(i=n.shift())&&(i.run(0,e?"true":"false"),t););return this},attr:function(t,e){return iExecSimply(this,t,e,function(t,e,i){return iSetGetAttr(i,t,e)},each)},css:function(t,e){return iExecSimply(this,isArray(t)?t.join(M):t,e,iCssGetSet,each)},find:function(t){var e=iQuery(t,this.result);return e.length=Array.prototype.unshift.apply(e.result,iElementsIs(this.result,t)),e},addClass:function(t){return this.each(function(t,e,i,n){n(e,i,!0)},t,iClass)},removeClass:function(t){return this.each(function(t,e,i,n){n(e,i)},t,iClass)},remove:function(){return iRemoveEvent(this,function(t,e){e.parentNode&&e.parentNode.removeChild(e)}),this},data:function(t,e){var i=this.each(function(t,e,i,r,s,a){var o=isSimplyData(i(e,r,s),r);return o===n||isString(o)?a.test(o)?JSON.parse(o):o:(each(o,function(t,e,i){i[t]=a.test(e)?JSON.parse(e):e},o={}),o)},iAttrs,t,e,/^(?:\[.*\]|{.*})$/);return this==i?n:i},animate:function(){var t=this.animateTasks,e=new AnimateTask({host:this,rank:this.result,config:iPicker(arguments,"0=>attributes,1.speed|1=>speed,1.easing=>easing,1.callback|2=>callback",{speed:G},!0)});return e.run(t.push(e)-1),this},trigger:function(t){return this.each(function(t,e,i){try{var n=iPicker(e,i)[i];if(function isTriggerOwnEvent(t,e){return/input|textarea|bottom/i.test(t.tagName)||/focus/.test(e)}(e,i)&&n)iRuner(n,e);else{var r=u.createEvent("Events");r.initEvent(i,!0,!0),e.dispatchEvent(r)}}catch(s){u.all&&e.fireEvent("on"+i)}},t)},each:function(){var t,e=iList2Array(arguments);return e.unshift(this.result),isNil(t=each.apply(this,e))?this:t}},Query.prototype.val=Query.prototype.html,Query.prototype.off=Query.prototype.unbind;var Bt=7.5625,Lt=2.75,Dt={easeInBack:function(t){return 2.70158*t*t*t-1.70158*t*t},easeOutBounce:function(t){return t<1/Lt?Bt*t*t:t<2/Lt?Bt*(t-=1.5/Lt)*t+.75:t<2.5/Lt?Bt*(t-=2.25/Lt)*t+.9375:Bt*(t-=2.625/Lt)*t+.984375},easeOutElastic:function(t){var e=2*Math.PI/3;return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin((10*t-.75)*e)+1},easeOutBack:function(t){return 1+2.70158*Math.pow(t-1,3)+1.70158*Math.pow(t-1,2)},easeOutCirc:function easeOutCirc(t){return Math.sqrt(1-Math.pow(t-1,2))}};function iGetDataByLine(t,e,i){var r=e||{},s=iToCutByDot(t),a=s.pop();return a==L&&(s.push(a),a=n),!0===each(s,function(t,e,i,s){if(t=r[e],e==L){var a={};return each(r,function(t,e,i,r){r&&e[r]==n||(i[t]=r?e[r]:e)},a[s]={},s),r=a}if(!i&&isNil(t))return!0;r=isNil(t)?r[e]={}:r[e]},!1!==i||(i=n,!1),a)?n:i==n?r[a]:r[a]||(r[a]=i)}function iGetEventMark(t){var e=iAttr(t,C);return e||iAttr(t,C,e=++s),e}function iEvent(t){return function(e){return each(this.result,function(t,e,i,n,r,s,a){l&&(n=function iEEventTrigger(t,e){var i=iPicker(e,W);merge(i,e),iRuner(t,this,i)}.bind(e,n));var o=r.events;iGetDataByLine(s(e)+B+i,o,[]).push(n),iGetDataByLine("E."+i,r,[]).push(n),Mt.addEventListener(e,i,n),a(e,O,!0)},t,e,this,iGetEventMark,iClass),this}}AnimateTask.prototype.run=function(t,e){if(!(t>0)){var i,n=this.config;merge(n,{count:0,speed:600,easing:Dt.easeOutBack}),isString(i=n.easing)&&(n.easing=Dt[i]),each(this.rank,iRanks,this,e||this.immediately)}},each(["hide","show"],function(t,e,i){i[e]||(i[e]=function(){return this.each(function(t,e,i){var n="hide"==i,r=iCss(e,"display"),s=iAttr(e,"o-display");iCss(e,{display:n?(!s&&iAttr(e,"o-display",r||A),"none"):s||"block"})},e)})},Query.prototype);var It=iPicker(global,"Reflect.defineProperty|Object.defineProperty=>Proxy").Proxy;function iListener(t,e,i,r){try{i.context&&each(iPicker(i,"get,set"),function(t,e){this[t]=this.first!=n?e.bind(this.context,this.first):e.bind(this.context)},i),It(t,e,i)}catch(s){t[e]=iRuner([i.get,function(){return this.value}.bind(i)],r)}}var Mt={};each({addEventListener:["addEventListener","attachEvent"],removeEventListener:["removeEventListener","detachEvent"]},function(t,e,i,n,r){var s=+!i[t];n[t]=function(t,i,n,a){t[e[s]](r[s]+i,n,a)}},global,Mt,[A,"on"]),each(["resize","click","focus","blur","change","scroll","load","hashchange","error","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","keydown","keypress","keyup","touchcancel","touchend","touchmove","touchstart","animationend","animationiteration","animationstart"],function(t,e,i){iListener(i,e,{get:function(){return iEvent(e)}})},Query.prototype);var zt=iQuery(c);zt.css({height:"100%"});var Ft=/\s*([^=&#?]+)=(?:("|')((?:(?!\2).)*)\2|([^=&]*))/g;function iString2KeyValue(t,e,i){var n={};return each(t.match(Ft),function(t,e,n,r,s){r._test(e)&&(t=vt.$1,isNil(e=vt.$3||vt.$4)||(n[t]=e,iRuner(s,i,t,e)))},n,Ft,e),n}function $pickWidthHeight(t){return(t||zt).attr("offsetHeight=>height,offsetWidth=>width")}var Wt=$pickWidthHeight(),Ht=zt.css("overflow");function Dialog(t){merge(this,t,{id:r++,link:n,offset:{},offsets:{},_close_:[],_resize_:[]},F),Y[this.id]=this,et.push(this),t.root.attr({id:this.id}),this.bind(),iRuner(this.init,this),this.events={click:{}},this.isOwnSetting=iRuner(this.callback,Y,this.id,this)}function iCenter(t,e,i,n){var r,s=!n&&i.isOwnSetting?{}:at.trigger(e,$pickWidthHeight(t),Wt);return isEmpty(r=i.margins)||(s.top&&(s.top-=(r.top+r.bottom)/2),s.left&&(s.left-=(r.left+r.right)/2)),s.zIndex=10,s.position=T,n?t.stop(!0,!0).animate(s,{speed:600,easing:Dt.easeOutCirc}):t.css(s),Wt}function $resize(t,e){iRuner(t._resize_,t,e)||iRepainting(t)}function iRepainting(t,e){var i=iCenter(t.room,t.position,t,e);i.left=i.top=0,t.bg.css(i)}Dialog.prototype={onresize:function(t){return this._resize_.push(t),this},onclose:function(t){return(this._close_||[]).push(t),this},remove:function(t){var e=this,i=isDigital(t);return iLazyRun(function(){e.link instanceof Dialog&&e.link.remove(),iCurrent(i?e:t||e)},i?1e3*t:n),this},resize:function(t){var e=this;return iLazyRun(function(){$resize(e,t)},t),e},glass:function(t){this.root.attr("is-blur",+t),o+=t>>0,zt[t?"addClass":"removeClass"]("blur")},addClass:function(t){return this.root.addClass(t),this},removeClass:function(t){return this.root.removeClass(t),this},timer:function(){if(+this.timeout){var t=this;t.times=setTimeout(function(){t.timeout=!0,t.remove()},1e3*this.timeout)}},cleartime:function(){return clearTimeout(this.times),this},push:function(t,e,i){return iGetDataByLine(t+B+e,this.events,[]).push(i),this},click:function(t,e){return this.push("click",t,e),this},proxy:function(t,e){var i=s++;if(isString(t)){var n=[];each(iPicker(this,t),function(t,e,i){e instanceof Query?i.push.apply(i,e.result):e.push(e)},n),t=iQuery(n)}return t instanceof Query?t.attr(Ut,i):iAttr(t,Ut,i),this.onclose(function(t){this.events.click[t]=null}.bind(this,i)),this.click(i,e)},destroy:function(){var t=this;t.cleartime();var e={easing:Dt.easeInBack};t.bg.stop(!0,!0).animate({opacity:.1},e),(e={css:{opacity:.5},speed:e}).css[iTakeMovePositionName(this.position)]="-=25px",merge(e,t.destroyConfig,!0),t.room.stop(!0,!0).animate(e.css,e.speed,function(){iRuner(t._close_,t),a--,t.root.remove(),delete Y[t.id],a<=0&&zt.css({overflow:Ht}),+t.root.attr("is-blur")&&(!--o&&t.glass()),function iToEmpty(t){each(t,function(t){this[t]=null})}(t)})},bind:function(){this.root.find("[data-bind]").each(function(t,e,i,n,r){iListener(i,r=iAttr(e,n),{first:{v:e,key:"@"+r},context:i,enumerable:!0,get:function(t){return this[t.key]||(this[t.key]=iQuery(t.v,this.root))}},i),iAttr(e,n,null)},this,"data-bind")},runer:iRuner};var Qt=selector2Html('div.windows>div.content[data-bind="room"]+div.bg[data-bind="bg"]'),Gt=selector2Html("div.confirm>div.confirm-title{标题}+div.confirm-content{内容}+span.confirm-cancel{取消}+span.confirm-submit{确定}+span.confirm-cancel.close{×}"),Ot=selector2Html("span.close{×}");String.prototype.buildHtml=function(){return ot.rPar.test(this)?giveUHtmlBySelector(this):selector2Html(this)};var Ut="e-dialog-handle";function isNode(t){return!isString(t=isQueryGetTheFrist(t))&&t&&1==t.nodeType}function isQueryGetTheFrist(t){return function isQuery(t){return t instanceof Query}(t)?t[0]:t}function iDialogTriggerInit(){var t={position:T,top:0,left:0,zIndex:1e5};this.room.html(this.context),delete this.context,zt.append(this.root).css({overflow:"hidden"}),a++,this.root.css(t).click(function(t){var e=function iFindEventParent(t){for(var e,i={};t;){if(e=iAttr(t,Ut)){i.name=e,i.target=t;break}t=t.parentNode}return i}(iPicker(t,W).target);iRuner(this.events.click[e.name],e.target,t,this)}.bind(this)).removeClass(O)}function iDialog(t,e,i,r,s){var a=iPicker(t,"data,mode=>M,events,watch,components|slot=>slot,init,link,clazz|cls|selector=>selector,_share__");!isEmpty(a)&&a.M&&(t=a=Jt(a.M,a)),t&&t.finger==Kt&&(t=t.node);var o=isNode(r)?{target:r}:iPicker(r,"slow,position,target");merge(o,s),isEmpty(o)||(r=o.target);var u=isNode(r),c=new Dialog({timeout:i,context:t,callback:e,root:iQuery(Qt),init:iDialogTriggerInit,position:u?n:r});c.render=a,merge(a.data||{},{_dialog:c});var h=c.room;u&&(h.addClass("windows-freely").append(ot.toHtml('.i-mark[data-bind="iMark"]')),c.bind());var f=o.slow;if(+f&&h.hide(),u){var p={index:1,room:h,target:isQueryGetTheFrist(r),position:o.position,iMark:c.iMark};c.onresize(function(t){var e=iPicker(t,"exec,state|center=>center");return this._to_center__||!0===e.center?(iRepainting(this,this._to_center__=!0),iRuner(e.exec,this,this),!0):(this.bg.css(Wt),function iResize(t){var e,i=t.target,r=iRuner(iPicker(i,"getBoundingClientRect|rect=>rect").rect,i),s=t.room,a=t.index,o=t.position,u=t.iMark,c=t.offset||t.iMarkHeight||(t.iMarkHeight=u.attr(j)/2),h=iSplit("3,1,2,0",v),l=s.attr(j),f=s.attr(U)+c,p=(r.height==n?r.bottom-r.top:r.height)>>0,d=(r.width==n?r.right-r.left:r.width)>>0,m=Wt.width-f-c,g=Wt.height-l-c,y=[r.left-f,r.top-l,m-r.right,g-r.bottom];s.state=y,isNil(o)||(each(iSplit(o,v),function(t,e,i,n){n.push(i[e])},Vt,e=[]),h.unshift.apply(h,e));var k={},b={};if(isNil(a=each(h,function(t,e,i){if(i[e]>0)return e},y)))b.display="none",iCenter(s,at.CENTER,t);else{var S=0==a||2==a,x=3==a||1==a;k.left=x?Math.min(r.left,m):2==a?r.right+c:y[0];var w=Math.max(r.top,0),_=Math.min(r.bottom,Wt.height),P=(_-l+Math.min(Wt.height-l,w))/2,N=Math.max(S?P:3==a?r.top+p+c:Math.min(P,y[1]-c),0);if(b.display=b.left=b.top=A,S){var E=(Math.min(N+l,_)+Math.max(N,w))/2-N;b.top=E+(u.css("border-width","number")+c)/2}x&&r.left>m&&(b.left=r.left-k.left-c+d/2),k.top=N,s.removeClass(jt[t.index]).addClass(jt[a]),t.index=a,u.show()}u.css(b),s.css(k)}(p),!0)}),iLazyRun(function(){h.show(),c.resize(function(){this.room.stop(!0,!0).css({top:"-=10"}).animate({top:"+=10"})})},f)}else X.auto.mix.animate(c,!c.isOwnSetting);return c.onclose(function(){var t=this.render.data;delete this.render,t&&delete t._dialog,this.room.html(A)}),iLazyRun(function(){c.timer()},f),l&&iQuery("body").append(c.root),c}var jt=["i-s-left",A,"i-s-right","i-s-bottom"],Vt={left:0,top:1,right:2,bottom:3};function iLazyRun(t,e){return+e?setTimeout(t,e):iRuner(t,n,e)}function iCurrent(t,e){if(!(isDigital(e)&&e<=0)){var i;if(t){for(var r=a;r--;)if(et[r]===t){et.splice(r,1),i=t;break}}else i=et.pop();if(i){var s;if((s=iPicker(i,"model|isModal|ismodal|modalclose=>mod").mod)&&(!0===s||iRuner(s,n,i)!==n))return et.unshift(i),void iCurrent(t,(isNil(e)?a:e)-1);i.destroy()}}}function iGetDialogByElement(t){if(isNode(t)){var e=iWithIn(".windows",t);if(e)return Y[iAttr(e,"id")]}}function iUserWindowResize(t){var e;if(e=iGetDialogByElement(t))return iRuner(iPicker(e,"resize").resize,e);iLazyRun(function(){for(var t in Wt=$pickWidthHeight(),Y)$resize(Y[t])},+t||10)}function isDigital(t){return/^[-+]?\d+(.\d+)?$/.test(t)}function iQuery(t,e,i){isDigital(e)&&(i=e,e=n);var r=new Query(t,e,!1!==i&&n);return isDigital(i)?r.result[i]:!0===i?r.result:r}function iHtml(t,e){var i={};return i.result=isArray(t)?t:[t],iPackHtml.call(i,e)}function iWithIn(t,e){return iElementsIs(isQueryGetTheFrist(e),t,!0).pop()}function iDiffer(t,e,i,n){var r={};merge(r,t,e,F),each(r,function(t,e,i,n,r){iRuner(n,r,t,t in this,this[t])},t,i,n)}function iToCutByDot(t,e){return iSplit(t,e||B)}iQuery(window).resize(iUserWindowResize).keydown(function(t){27===t.keyCode&&iCurrent()});var Kt="T-{0-99}-{100-999}-T".format(),Jt=function(){var t=["createElement","createTextNode"],e="_el",i="text";function iNode(e,i){var n=/^(?:\s?|true|1|text)$/.test(e);return/svg|path/.test(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document[t[+n]](n?i||A:e||"div")}function Node(t,e){isNaN(+t)&&(e=t,t=n),t||(t=9);var i=3==t,r=isArray(e)?iJoin(e):e,s=i?r:A,a={finger:Kt,nodeType:t,name:null,start:0,end:0,state:0,task:{},data:{},_if:{},_end:[]};return i&&(a.value=s),iListener(a,"nodeName",{set:function(t){var e,r=t;isArray(r)&&(r=iJoin(r),t.length=0);var s=r?iSplit(r,I):[r];i||(e=this.source=s[0]);var a=s.pop();this.slot=/^[A-Z]/.test(e),this.name=i?"#text":a,this.isSimplyBlock=/^style|script|textarea$/i.test(this.name)||/^text$/i.test(e),this.node=iNode(this.slot&&e==a?n:a,this.value),this.isVoidElement=R.test(e),this.nodeType=this.node.nodeType},get:function(){return this.name}}),/^(?:[\s\r\n]*)$/.test(r)&&(a.state=-1),a.append=function(t){var e=this.node;e&&1==e.nodeType&&-1!=t.state&&this.push(t)},a.push=function(t){this.children.push(t),this.node.appendChild(t.node)},a.find=function(t,e){return Parent(this,"?.?".on(t,e))},a.complete=function(t){var e=Scope(this);if(e.completed)return iRuner(t,this,e);e._end.push(t)},/1|9/.test(t)&&(a.children=[],a.props=[],a.attrs={}),a.nodeName=i?A:e,i&&e&&(e.length=0),a}var r={"<":{type:1,offset:1,un:/[^\w\/]/,next:"/",state:1},"/":{state:3,offset:1,check:/>/,next:">",short:!0},"\\":{state:0},"{":{type:7,left:!0},"}":{offset:-1,check:/(?:\?|.)/},">":{state:3,offset:-1}},s="reverse";function Parent(t,e){var i=0;e?e+="=>val":(e="parent",i++);for(var r=t;r&&(i?r[e]!=n:iPicker(r,e).val===n);)r=r.host||r.parent;return r}function ScopeTask(t,e){return Scope(t,e,"task").task}function Scope(t,e,i){var n,r=Parent(t,"scope"+(e?".?".on(e):A));return i?(n={scope:r},each(iPicker(r,TextFormat(i,e)),function(t,e,i,n){this[t]=isSimplyType(e)?e:e[n]},n,e),n):r}function isPrivateProperty(t){return/^\$(idx|item(?:\..*|))$/.test(t)}function hasDot(t){return t.indexOf(B)>=0}function iEvaluate(t,e,i){t&&each(isArray(t)?t:[t],function(t,e){this.has&&(e=iPicker(e,this.first||(this.first=iToCutByDot(this.name),this.name=this.first.pop(),this.first))||this.def);e[this.name]=i},{name:e,val:i,has:hasDot(e),first:n,def:{}})}function iSlot(t){if(t.slot){var e="config.slot."+t.source,i=iPicker(Parent(t,e),e)[e];if(i){var r=iPicker(i,"config.*=>*");i=render(i.source,r,t.name),each(t.attrs,function(e,i,r,s){var a;if(!(e in s.data)||h.test(i.value)&&(s._slot=this))return iTriggerBuild(s,i.source),n;if(i=i.value,/^on\.?(\w+)$/._test(e))a=vt.$1,own=iPicker(t.find("task",i),"parent,scope,task.?=>task.?.*".on(i)),own.node=s.node,d.on.call(own,n,a,i);else{if(r=Scope(this,i),(a=function(t,e){this.data[t]=e}.bind(s,e))(r?iPicker(r.scope,i)[i]:i),!r)return;var o=i.replace(/\./g,"._task."),u=iPicker(r.task,o)[o];u&&u.set&&u.set.push(a),(s.bind||(s.bind={}))[e]={task:r.task[i],trigger:a},s.task[e].set.push(function(t){iEvaluate([this._.data,this._.scope],this.name,t),this.task.data=t}.bind({_:r,name:i,task:u}))}},t,i),t.complete(function(t){var e=iPicker(this,"_if.elements=>e").e;e&&(e[0]=t.node),iRuner(t.config.init,t.data,this,t.node)}.bind(t,i)),t=i}}return t}var a="task";function _WatchByConfig(t,e){var i,r=e.context||Parent(t),o=r.data||(r.data={}),u=e.name||e.property,c=e.property&&e.property.replace(e.name,A)!=e.property,h=u;if(u){var l=isPrivateProperty(u),f=function isInput(t){return/^(input|textarea)$/i.test(t.nodeName)}(t.node);if(i=hasDot(u)){var p=iToCutByDot(u);u=p.shift(),l&&(u=iJoin(p),i=!1),e.name=p.join(B)||u}var d,m=Parent(t,"for"),g=r._defaultData&&u in r._defaultData,v=e.proxy;if(g||l||m||v?d=r.task[u]||e.task:(d=ScopeTask(e.parent||r,u)||r.task[u],l=!0),/^(?:[a-z$_])+[\.\w]*$/i.test(u)&&(l||(g||v)&&!m)){if(isEmpty(d)&&(d=r.task[u]={}),merge(d,{data:null,get:[],set:[]},iPicker(e,s),F),i)return function _Listen2TheLineString(t,e,i,n,r,s,o){var u=e.name,c={},h=r._task||(r._task={}),l={},f=iToCutByDot(u).shift();c[f]=null,r.data||(r.data={});var p=h[f]||(h[f]={data:r.data[f]});n&&(r.index=a);var d=r[a]||(r[a]={});merge(l,{context:{task:h,_defaultData:c,data:d}},e,F);var m=Scope(t,s);m&&(o in m.task||(m.task[o]=p)),r.name&&(l.name=o.replace(/\.[^\.]+$/,A)),Watch(i,l),f in d||iListener(d,f,{context:p,get:function(){return this[a]}}),hasDot(e.name)&&p.set.push(function(t,e){iEvaluate(this.data,this.args.name,t)}.bind({element:i.node,args:e,data:r.data}))}(r,e,t,c,d,u,h);if(f&&"value"==e.property&&iQuery(t.node).on("input",function(t,e){iEvaluate(t,e,this.value)}.bind(t.node,o,u)),each(iPicker(e,"get,set"),function(t,e,i,n,r){r.count=i[t].push(e.bind(n,r.property,r))},d,t.node,e),function iMultiDynamicInitRun(t,e){var i,r=t.mulitNameWatch,s=t.dynamic;e.data==n||!r&&r!==n||iRuner(e.set[t.count-1],n,e.data);if(!s||!s.istyle||s.lastIndex<=0)return;s=iPicker(t,"count,name,dynamic.link=>task,dynamic.relate=>relate"),r?(iRuner(s.task),s.task=null):s.task&&s.task.push(function(t){iRuner(this,n,t.data)}.bind((i=iPicker(e,"set=>watch").watch)[i.length-1],GiveUTask(s.relate,s.name)))}(e,d),!(u in o))return d.name||(d.name=u),{data:o,name:u,task:d,proxy:v,source:h}}}}function Watch(t,e){var i=_WatchByConfig(t,e);if(i){var r=i.name;iListener(i.data,r,{enumerable:!i.proxy,context:{host:t,name:e.line||i.source,task:i.task},first:function(t){if(t.cache)return t.cache;var e=Scope(t.host,t.name,"task,scope=>xxl");return e.task||(e.task=t.task),e.scope===n&&(e.scope=t.host),e.own=e.xxl!==n||t.host.find("task",t.name),t.cache=e},set:function(t,e){var i=t(this),r=i.task,s=i.scope,a=r.data;if(!r._lock__){r._lock__=!0,isArray(r.data)&&!isArray(e)&&(e=[]),e==a||iRuner(r.watch,n,e,a);var o=isPrivateProperty(r.name);(o||i.own)&&(r.data=e),o||s.scope&&!s.data._freeze__&&(s.scope[r.name]=e),iRuner(r.set,s,e,a),delete r._lock__}},get:function(t){var e,i=t(this).task;return iRuner(i.get,n,i)||(isSimplyType(e=i.data)?e:i.index!=n?i[i.index]:e)}})}}function GiveUTask(t,e){return isPrivateProperty(e)?iPicker(Parent(t,"task.?".on(e)),"task.?=>?".on(e))[e]:ScopeTask(t,e)||ScopeTask(t._slot,e)}function iFormatClassName(t){return t.replace(/\./g,ot.WHITE)}var o=/class|(style)|(if)/,u=/(["'])(?:(?!\1).)*\1/g,c=/(?:(?!"|')[$\w\.])+/g,h=/^(.*)(?:\$?\w+\[\w+\]|((?:\?|>|<|=|\!|\+|\*|\/|%|(?:\&|\|){2})=?)|\s+in\s+)(.*)|.*\(.*\)$/,l=/^\s*([\w-]+)\:/i,f={};function iGetDateByRelateKeys(t,e){return each(t.scope,function(t,e){this[t]=iPicker(e.scope,"data|"+e.name+".data=>data").data},e||(e=[])),t.trigger.apply(n,e)}function _PublicBindUseBySet(t,e,i){var n=e.own,r=e.dynamic;i=/\.length/.test(r.keys)?isArray(i)||isDigital(i)?iGetDateByRelateKeys(r):!i:iGetDateByRelateKeys(r);var s=r.set,a=n.node,o=r.last,u=iPicker(e,"property|name=>trigger");merge(e,u),o&&o!=i&&!r.isif&&e&&(u.reverse=!0,iRuner(s,a,r.isprop?o:t,u,o)),r.last=i,iRuner(s,a,r.isprop?i:t,e,i)}var p=/^(var|let|const|in|while|for|of|this|true|false|undefined|\d+|.*\.test.*|\..+|\s*|\$\d+|[Nn]il)$/;function _PublicBindUseByRelateForEach(t,e,i,n,r,s){if(!p.test(e)){var a=iToCutByDot(e).shift(),o=GiveUTask(i=this.relate,a);a in r||(r[a]=!0,n.push(a),this.scope.push({name:a,scope:o}),this.keys.push((this.k||a)+I+e),(s=i._slot)&&(o.set.push(function(){this.relate.data[this.k]=iGetDateByRelateKeys(this)}.bind(this)),s.complete(function(t){this.data[t.name]=t.data}.bind(Parent(s),o))))}}function _PublicBindUseByListenForEach(t,e,i,n,r,a){var u=iPicker(iSplit(e,/\s*:\s*/),"0=>property,1|0=>name",!0);n.change?(merge(u,r,{own:i,dynamic:a,parent:i.parent,mulitNameWatch:a.lastIndex==t},iPicker(n,s),F),Watch(i,u)):iRuner(function(t,e,i,n){o._test(t)&&(e=(i=vt.$1?iSplit(i,/:/):[i,!0])[0],i=i[1]),n.set.call(this,e,u,i)},i.node,n.property,t,e,r)}function PublicBind(t,e,i){var r=iPicker(arguments,"3.set|3=>set,3.get|4=>get");if(!t.change){if(!t.property)return iRuner(r.set,this.node,e,n,i);e=0}var s=o._test(t.property),a=vt.$1,p={relate:this,isif:vt.$2,istyle:a,isprop:s,scope:[],keys:[],args:{}};if(t.change&&h.test(i)){a&&!e&&l._test(i)&&(e=vt.$1,i=i.replace(l,A));var d,m=i.replace(u,A).match(c);merge(p,r,{k:e,source:i},F),r={set:_PublicBindUseBySet},each(m,_PublicBindUseByRelateForEach,p,d=[],{});try{p.trigger=f[i]||(f[i]=Function("{0}/*Arguments in Nodes's Task!*/".format([d.join(M)]),'var Nil,nil,$1,$2;try {return {exp}}catch(e){console.error(e.message + "{rn}{rn}\\t-\\t{expstring}{rn}🅔🅝🅓");return ""}'.format({exp:i,rn:"\\r\\n",expstring:i.replace(/("|[\r\n])/g,"\\$1")})))}catch(g){return!0}i=p.keys}else i=t.change&&e?[e+I+i]:iSplit(i,[/;/,/\s+|;/][+!a]);merge(p,{lastIndex:i.length-1,link:[]}),each(i,_PublicBindUseByListenForEach,this,t,r,p)}var d={on:function(t,e,i){var r=iPicker(Scope(this).task,i+".event=>ev").ev;r!==n&&iQuery(this.node).on(e,function(t){!1===iRuner(r,this,t)&&iRuner(iPicker(t,"stopPropagation=>e").e,t)})},"class":function(t){t(function(t,e,i){if(t==n&&(t=!1),/true|false/.test(t))return iClass(this,iFormatClassName(e.trigger),t);iClass(this,iFormatClassName(t),e&&e.reverse?!i:i)})},style:function(t){t(function(t,e,i){iCss(this,e.property||t,i)})},_attr_:function(t){t(function(t,e,i){iAttr(this,t,i)},function(t,e,i){return"value"===t&&/^(input|textarea)$/i.test(this.nodeName)&&this.value!=i.data?this.value:n})},"if":function(t){this.complete(function(){this(function(t,e,i){var n=e.own._if,r=e.empty||(n.elements=e.empty=[this,iNode(A)]);e.reverse&&(i=!i),n.idx=+!i,At(r[+!!i],r[+!i])})}.bind(t))},"for":function(t){this.complete(function(t){var i,r=Parent(this),s=Parent(this.parent||this,"for|scope."+t)||r,a=r.source.substring(this.start,this.end).replace(/\s?for=(?:("|')((?:(?!\1).)*)\1|([^=&\s>]*))/,A),o=iNode(A),u=Scope(this)||s;(i=s.task[t])||s["for"]||(s=u,i=u.task[t]={name:t}),i&&Watch(s,{name:t,set:function _ForUseBySet(t,i,r){var s,a,o=this.host,u=ScopeTask(o,i.name)||{},c=this.root,h=this.link,l=this.source,f=this.scope,p=u.index=this.finger,d=this.iSpace;isArray(r)||(r=[]);var m=Scope(this,"_share__","task.?.data=>data").data;if(m=m==n||m,a=u[p]){!0===h.N&&(m=!1);var g=a.length,v=r,y=v.length,k={length:g};if(each(a,function(t,i,r,s,a,u){if(u=i[e],m&&s[t]!=n)o.SPACE&&(At(o.SPACE,u),delete o.SPACE),this[t]=s[t];else{var c=!m||t>=0?(a.length--,d):o.SPACE||(o.SPACE=iNode(A));At(u,c)}},a,v,k),a.length=k.length,iWakeup(V,a),k.length-y>=0)return;s=k.length}u[p]=a||(a=[]),a.name||each({name:i.name,source:l,proxy:c,scope:f,host:o,task:u,push:_ForUseByPush,remove:function(t,e){if(t!==n){t=t.$idx===n?t:t.$idx,e||(e=1),iRuner(this.task.watch,n,this[t],t,-1),this.removing=!0;for(var i=t,r=this.length;i<r;i++)this[i]=this[i+e];for(this.task.data.length-=e;--e>=0;)this.pop();delete this.removing,iRuner(this.task.set,n,this),iWakeup(V,this)}},unshift:function(){var t=iList2Array(arguments);t.push(-1),this.push.apply(this,t)}},function(t,e){iListener(a,t,{enumerable:!1,value:e})}),a.push(r,!0,s>>0)}.bind({host:this,iSpace:o,root:s,scope:u,source:a,finger:"Finger{1-1000000}".format(),link:iPicker(u.config,"link").link||{index:0}})}),At(this.node,o),this.node=o}.bind(this,iPicker(arguments,"2|1=>name").name))}};function _ForUseByPush(){var t=iList2Array(arguments),i=this.proxy,r=t.pop(),s=0,a=-1==r;if(a)r=s=this.length;else{!isNil(r)&&isNaN(+r)&&(t.push(r),s=r=this.length);var o=t.pop();!0===o?t=t.pop():(t.push(o),s=r)}if(each(t,function(t,a){if(!((t=s+t)<r)){var o,u,c,h=this,l=h.scope,f=h.host,p=h.task;if(iRuner(p.watch,n,a,t,1),o=iPicker(h[t],e)[e])return null===a&&At(o,A),h[t]=a,n;(u=p.data||(p.data=[])).length||iRuner(p.set,n,!0),u[t]=a;var d={mix:{$idx:t,$item:a},$scope:l};merge(c={data:a,link:{name:h.name,index:t,N:!0}},l.config),c.parent=f.parent;var m=render(h.source,c);c.link.N=!1,function iSetListenerByMap(t,e){each(t,function(t,e){Watch(this,{name:t}),this.data[t]=e},e)}(d.mix,m),iListener(h,t,{context:{bind:m,host:h,idx:t,task:l.task[h.name]},configurable:!0,first:d,set:function(t,i){var r=this.bind;i===n&&(At(r.data[e],A),r.scope=r.data.$item={}),i||(i={});var s=t.$scope.scope,a=r.scope,o=this.task,u=this.idx;each(o,function(t,e,i,n,o){/Finger/.test(t)&&(iDiffer(n,a,function(t,e,i){/^[$_].*/.test(t)||i===this.data[t]||(this.data[t]=e?i:this.scope[t]||null)},{data:e[i],scope:s}),merge(r.data,o,!0))},u,i,t.mix),!this.host.removing&&o&&iRuner(o.watch,n,i,u,0)},get:function(){return this.bind.data}});var g=each(m.children,function(t,e,i){if(e.nodeType==i)return e},f.nodeType)||m;e in m.data&&delete m.data[e],iListener(m.data,e,{context:g,get:function(){var t=this._if;return t.idx!=n?t.elements[t.idx]:this.node}}),m.data._target=function(){return this[e]},m.data._=i.data,m.data.remove=function(){h.remove(this.$idx)},each(i.data,function(t,e,i,n){Watch(this,{context:this,proxy:n,name:t,task:n.task[t]})},m,i),m.node=g.node,iQuery(g.node).insert(f.node)}},this),t.length||iRuner(this.task.watch,n,t),iWakeup(V,this),a){var u=(t=iPicker(t,"_,*")).length;between(-1,s,function(t,e,i){items[t+u]=items[t].$item},!0),each(t,function(t,e){this[t]=e},items)}}var m={length:function(){iRuner(iPicker(this.task,"_task.length.set=>set").set,n,this.length)}};function iWakeup(t,e){iRuner(m[t],e)}var g=[/=/,/(?:[\s\r\n]|\/|>)/],v=/(?:\s|[\r\n])*((?:[\:!@\*]|v-))?(class|style|on|if|for)?\.?([\*\w-\.]+)?=(?:("|')((?:(?!\\?\4(?:\s+(?:\:?\s*\w+=["']\w+["']|))).)*)\4|([^=&\s]*))+[\r\n\s]*/g,y={};function iTriggerBuild(t,e,i){if(v.lastIndex=0,v._test(e)){var n=vt.$1,r=vt.$2,s=vt.$3,a=vt.$5||vt.$6;"for"==r&&(t["for"]=!0),d[r||"_attr_"].call(t,PublicBind.bind(t,{property:r,change:!!n},s,a),s,a),iRuner(i,t,n,s,a,r)}}function iAttributes(t,e){each(e.match(v),function(t,e,i){iTriggerBuild(i,e,function(t,i,n,r){var s=r+(r&&i?B:A)+i;this.props.push([s,n]),this.attrs[s]={source:e,change:t,key:i,value:n}})},t)}function iSimBlock(t,e,i){for(var n,s,a,o=e,u=i.length;a=t[++o];)if((n=r[a]||y).next&&t.substring(s=o+2,s+u)==i){o+=u+1+n.offset;break}return{index:o,inner:t.substring(e+1,o-u-2)}}function render(t,s,a,o){var u=Node(a);t=function iConfigs(t,e,i){if(!+i){e=(e=e.replace(/<!--((?!-->)[\w\W])+-->/g,A)).buildHtml(),merge(i,{data:{}}),t.config=iPicker(i,"selector,events,init,data,watch,link,components|slot=>slot");var n=iPicker(i,"events=>event,data,watch");n.data instanceof Function&&(n.data=n.data()),each(n,function(e,i){each(i,function(e,i,n,r){(this[e]||(this[e]={}))[r]=i instanceof Function?i.bind(t.data):i},t.task,e)},t),t.scope=n.data,t.scope.$this=n.data,t.host=i.parent,each(t.scope,function(t,e,i,n){this[t]=null,n.push(t+".data=>"+t)},t._defaultData={},t._pickermode=[]),each(iPicker(t.config,"link.index=>$idx"),function(t,e){this[t]||(this[t]={data:e})},t.task),t._pickermode=t._pickermode.join(M),iListener(t,"value",{get:function(){return iPicker(this.task,this._pickermode)},set:function(t){merge(this.data,t,!0)}}),t.source=e}return e}(u,t,s),u.parent=o,u.start=s>>0;var c,h,l,f,p,d,m,v,k,b,S=u.start,x=t.length,w=!0,_=[],P=(o||u).state,N=!0,E={'"':0,"'":0,block:0};o=1!=u.nodeType&&o&&1==o.nodeType?o:u;for(var R,T;S<x;S++){if(c=t[S],u.state=P,P>1&&c in E&&"\\"!=t[S-1]){var $=E[c]%2;g[$].test(t[S+2*$-1])&&(E.current=c,E[c]+=1),E.current==c&&(m=E[c])}if(f=r[c]||y,"\\"==c)c=t[++S];else if(/(?:(<)|(\/|>)|(\s)|(\{|\}))/._test(c)){var C=vt.$2,B=vt.$3,L=vt.$4,D=o.isSimplyBlock;if(E.block%2&&B);else if(b&&"}"!=L);else if(L&&2!=P){if(!D){var I=!f.left,z=Node(3,I?n:_);if(z.parent=o,b=!I,E.block++,I){if(R=z,T=iJoin(_),PublicBind.call(R,{change:!0},n,T,{set:function(t,e,i){e.hook&&(e.hook.remove(),delete e.hook),this.nodeValue=isNode(i)?(e.hook=iQuery(i).insert(this),A):isSimplyType(i)?i:iPicker(i,t+"=>data").data}}))continue;_.length=0}o.append(z);continue}}else if(!(C&&0==P||(v=B)&&(P<=0||2==P)||(h=t[f.offset+S],h==f.next&&!P&&!o.state||f.un&&f.un.test(h))||m%2)){if(P=((p=(P>=1&&v||(k=C))&&w&&!D&&d)?1:f.state)||P,p&&(1==u.nodeType&&(u.nodeName=_,w=!1,N=!1,P=2,d=0),!k))continue;if(C&&2==P&&(P+=2),3==P&&(iAttributes(u,iJoin(_)),d=0),P>=3&&u.isSimplyBlock){_.length=0;var F=iSimBlock(t,S,o.source);if(S=F.index,_.push(F.inner),N=!0,o.name!=i)break;o=o.parent,d=1}if(d&&(o.append(Node(3,_)),d=0),(f.check||/\//).test(t[S+(f.offset>>0)])||u.isVoidElement){S+=(h=x>S&&t[S+1]==f.next)?f.short?1:(o.source||A).length+1+f.offset:0;break}if(!D){if(o.state=P,l=render(t,++S,f.type||3,o),P=0,S=l.end-1,3==(l=iSlot(l)).nodeType)break;o.append(l);continue}}}d=_.push(c)}return N&&_.length&&o.append(Node(3,_)),u.start&&(u.start-=1),u.end=S+1,u.state=5,u.parent||(each(u.scope,function(t){t in this||Watch(u,{name:t})},u.data),iListener(u.data,e,{context:u,configurable:!0,get:function(){return this.node}}),s.selector&&iQuery(u.node).addClass(s.selector),iRuner(iPicker(u,"_end|end=>end").end,u,s),u.completed=!0),u}return render}();function TextFormat(t,e){var i=/\?/;if(i.test(t)){isArray(e)||(e=iList2Array(arguments)).shift(),isString(e)&&(e=iSplit(e));for(var n,r=0,s=t.match(/\?/g).length;r<s;r++)t=t.replace(i,n=isNil(e[r])?n:e[r])}return t}function iArray2Map(t,e){return each(t,function(t,e){this[e]=t},e||(e={})),e}String.prototype.on=iStringFormat,String.prototype.render=function(t,e){var i=this.buildHtml(),n={data:t||{}};return merge(n,e),Jt(i,n)};var Zt=["left","top","right","bottom"],qt=iArray2Map(Zt);function iOpposite(t){return Zt[(qt[t]+2)%4]}var Xt={_:Query,is:function iElementIs(t,e){return iElementsIs(e,t).length?e:n},render:Jt,css:iCss,each:each,attr:iAttr,html:iHtml,merge:merge,kv2url:function iMap2Url(t){var e;return each(t,function(t,e){this.push(t+"="+encodeURIComponent(e))},e=[]),e.join("&")},url2kv:iString2KeyValue,attrs:iAttrs,show:iDialog,list:Y,runer:iRuner,picker:iPicker,showBox:iDialog,between:between,isString:isString,isEmpty:isEmpty,array2map:iArray2Map,getline:pickVarLine,iGetDataByLine:iGetDataByLine,resize:iUserWindowResize,selector2Html:selector2Html,giveUHtmlBySelector:giveUHtmlBySelector,format:iStringFormat,idialog:iGetDialogByElement,confirm:function(t,e,i,n){return this.auto(Gt,function(n,r){r.glass(!0);var s=r.room;s.find(".confirm-title").html(t),s.addClass("dialog-confirm").find(".confirm-content").html(e),r.proxy(s.find(".confirm-cancel"),function(){return r.remove(),!1}),r.proxy(s.find(".confirm-submit"),function(t){return iRuner(i,r.root,Xt,r,t)&&r.remove(),!1})},n)},notice:function(t,e,i,n,r){var s=this.tips(t,e,i,n);return s.addClass(r||"notice"),s},error:function(t,e,i,n){return this.notice(t,e,i,n,"error")},tips:function(t,e,i,n){var r=isNode(t);!r&&e>7&&(t+=Ot);var s=iPicker(i,"position,target,slow");return isEmpty(s)&&merge(s,{target:i}),iDialog(r?t:giveUHtmlBySelector(t),function(t,i){i.root.addClass("dialog-tips"),iRuner(n,i),i.proxy(i.root.find(".content .close"+(e>7?A:",.bg")),function(){i.remove()})},e,s.target||Xt.tips_position,s)},auto:function(t,e,i){var r;!isFunction(e)&&isNil(i)&&(e=(i=e)&&i.callback),isString(i)?(r=i,i={}):(i||(i={}),r=i.cs),r||(r="inner: 0 0 0 0 .confirm-content 60;");var s=!1===i.center||P.test(r)||i.free,a=iDialog(t,function(t,n){return n.runer(i.init,n,t),n.runer(e,this,t,n),n.bind(),merge(n,iPicker(i,"destroy=>destroyConfig,model,link,name,auto=>@auto")),n.runer([i.last,i.end],n,t),n.onresize(resize),n.isFree=s,!0},n,i.position),o=function iDialogAutoRules(t,e){return!e&&(e=[]),each(t,function(t,e,i,r,s,a,o,u){(u=(s=iSplit(e,m))[0])&&(o=iSplit(s[1]||A,S)).length>=1&&(i[t]={name:u,value:o,sort:r[u]==n?bt:r[u]})},e,kt),e}(iSplit(r));isArray(o)&&o.sort(function(t,e){return t.sort-e.sort}),i.destroy&&isNil(i.center)&&!/center/.test(i.position)&&(i.center=!1);var u=a.room.hide();if(iLazyRun(function(){u.show(),resize.call(a,!0),iRuner(/animate\s*\:/.test(r)||i.end||function(){X.auto.mix.animate(this,!0)},a)},i.slow),i.scroll){var c=each(o,function(t,e){if("inner"==e.name)return e.value[5]}),h=a.room.find(c);(h.length?h:a.room).scroll(function(){iLazyRun(i.scroll,60)})}function resize(t){if(!this.lock){this.is1st=!!t;each(o,function(t,e,i,n,r){e.value[0]instanceof Dialog||e.value.unshift(r),iRuner(e.custom||(e.custom=iPicker(r,"@auto.?=>fx".on(e.name)).fx),r,e.value),i[e.name]&&i[e.name].apply(n,e.value)},X.auto.mix,{},this),iRepainting(this,!this.isFree)}}return a},push:function(t,e,i){return(X[t]||(X[t]={mix:{}})).mix[e]=i,this},remove:function(t){isString(t)?iQuery(t).each(function(t,e){var i=iAttr(e,"id"),n=Y[i];n&&n.remove()}).remove():iCurrent(t)},screen:function(){return Wt},clazz:iClass,addClass:function(t,e){iClass(t,e,!0)},removeClass:function(t,e){iClass(t,e)},within:iWithIn,query:iQuery,Query:iQuery,createElement:function(t){return iQuery(t,!wt.test(t)||n)},destroy:function(t){iRuner(iPicker(t,"remove").remove,t)},get:iGetDialogByElement,current:function(){return et[et.length-1]},mix:function(){var t=iList2Array(arguments);t.push(F),merge.apply(n,t)},exec:function(t,e){var i=pickVarLine(e,t),r=iRuner(i.parent[i.head],i.parent);return r===n?i.data:r},differ:iDiffer,opposite:iOpposite},Yt="1=>left,2=>top,3=>right,4=>bottom";function iGetConfigByArgs(t,e,i,n){return isEmpty(t[e])&&(t[e]=iPicker(i,Yt,G,function(t,e){if(!isNumber(e))return n})),t[e]}function isNumber(t){return!isNaN(+t)}function iPaddings(t){return t.paddings||(t.paddings=t.css(K,G))}Xt.push("auto","offset",function(t,e,i,n,r){t.isFree=!0;var s,a=t.room,o=iPaddings(a),u=iGetConfigByArgs(t,"offsets",arguments,null),c=null===u.left,h=null===u.right,l=null===u.top,f=null===u.bottom;each(u,function(t,e){this[t]=e},this),(c||l||h||f)&&(a.css({width:null,height:null}),s=a.css("width,height",G));var p=Wt.width-(e>>0)-(n>>0)-o.l-o.r,d=Wt.height-(i>>0)-(r>>0)-o.t-o.b;this.width=c||h?Math.min(p,s.width):p,this.height=l||f?Math.min(d,s.height):d,c&&h&&(this.left=Math.max((Wt.width-a.attr(U))/2,0)),l&&f&&(this.top=Math.max((Wt.height-a.attr(j))/2,0)),a.css(this)}),Xt.push("auto","margin",function(t){iGetConfigByArgs(t,"margins",arguments,0)});var te={l:0,t:0,r:0,b:0};function iTakeMovePositionName(t){return/(left|right|bottom)/._test(t)?vt.$1:"top"}Xt.push("auto","inner",function(t,e,e,e,e,i,r,s){var a=t.room,o=function iPickInnerOffset(t,e){var i;isEmpty(i=t._offset__)&&(i=t._offset__={},iPicker(e,Yt,null,function iOffsetStep(t,e){if(!isNumber(e)){var i=this.host.find(e);if(i.is(":visible")){var n=iPaddings(i),r=function iMargins(t){return t.margins||(t.margins=t.css(K.replace(/padding/g,"margin"),G))}(i),s=function iWidthHeightBox(t){return t.WidthHeight||(t.WidthHeight=t.css("width=>left,width=>right,height=>top,height=>bottom",G))}(i);e=i.length?s[t]+(/left|right/.test(t)?r.l+r.r+n.l+n.r:r.t+r.b+n.t+n.b)>>0:0}}this.box[t]=e>>0}.bind({box:i,host:t})));return i}(a,arguments);(function isStringBoolOrBoolean(t){return/^(?:true|false)$/.test(t)})(r)&&(s=r,r=n);var u="true"!=s,c={},h=a.is(i)||a.find(ot.CHILD+i).length,l=h?te:iPaddings(a),f=a.iINNER||(a.iINNER=a.find(i)),p=h?te:iPaddings(f),d=f.attr("scrollHeight")>>0,m=Wt.height-(r>>0),g=Wt.width-(r>>0),v=a.attr("scrollWidth")>>0,y=o.top+o.bottom+l.t+l.b+p.t+p.b,k=g-(l.l+l.r+o.left+o.right+p.l+p.r),b=(this.height||m)-y;c.width=g>=v&&u?"auto":k,c.height=d+y>m?Math.min(d,b):u?"auto":b,f.css(c)}),Xt.push("auto","center",function(t,e){/^true$/.test(e)&&iRepainting(t,!0)}),Xt.push("auto","animate",function(t,e,i,r){if(/^true$/.test(e)){if(iRepainting(t,t.isFree==n||!t.isFree),t.is1st!=n&&!t.is1st)return;var s={opacity:.7},a={opacity:1},o=iTakeMovePositionName(t.position);s[iOpposite(o)]="auto",s[o]=i||"-=10",a[o]=r||"+=10",t.room.stop(!0,!0).css(s).animate(a)}}),i.exports=Xt});
!function(t,e,r){if(t.global=t,"object"==typeof exports)e(require,exports,module);else if("function"==typeof define)define("time",e);else{var n={exports:{}};e(void 0,n.exports,n),t.time=n.exports}}(this,function(t,e,r){function run(t,e){var r=Array.apply(null,arguments);return t=r.shift()||{},((e=r.shift())instanceof Function?e:t[e]||function(){}).apply(t,r)}var n;function T(t){t=t||"YYYY/MM/DD",this._Date=new Date,this.remode(t)}T.prototype.remode=function(t){if(this.mode==t)return this;var e;if(this._r_ampm__.test(t)){var r=t.match(this._r_ampm__);t=t.replace(this._r_ampm__,"ampm"),e=(r&&r[1]||"").split("|")}else e=["am","pm"];return this.mode=t,this._ampm_list__=e,this._mode_length__=this._ampm_list__.length,this.M=this.mode.match(/(?:MM|hh|DD|mm|ss|YYYY|YY|ampm|24h|12h)/g)||[],this},T.prototype.setTime=function(t){return this._Date.setTime(t),this._Date};var o=Date.now||function(){return new Date};T.prototype._r_ampm__=/\(([^\(\)]*)\)/,T.prototype.getYearShow2=function(t){return t.getFullYear()%100},T.prototype.getHoursTo12=function(t){var e=t.getHours();return e>12?e%12:e},T.prototype.getAmOrPm=function(t){var e=t.getHours();return this._ampm_list__[Math.floor(e*this._mode_length__/24)]},T.prototype.Map={getMonth:1,YY:"getYearShow2",YYYY:"getFullYear",MM:"getMonth",DD:"getDate",hh:"getHours",mm:"getMinutes",ss:"getSeconds","24h":"getHours","12h":"getHoursTo12",ampm:"getAmOrPm"};var a=[function(t){return t},function(t){return String.prototype.replace.call(t,/[\.-]/g,"/")}];function Json2Date(t,e){if(e&&(e.year||e.month||e.day))return t.date([e.year||2016,e.month||"01",e.day||"01"].join("-"))}var i=/^(?:(string)|number)$/;function getDayNumberByMonthAndYear(t,e){return(t>6&&t%2==0||t<8&&t%2!=0||2==t&&(e%4==0&&(e%100!=0||e%400==0))-2)+30}T.prototype.date=function(t){var e;if(e=Json2Date(this,t))return e;if(!(e=(typeof t).match(i)).length)return this.setTime(o());if(e[1]){for(var r,n,s=0,h=a.length;s<h;s++)if(r=!isNaN(+(n=new Date(a[s](t))))){t=n;break}r||(t=new Date)}return this.setTime(t)},T.prototype.get=function(t){var e=this.Map[t];return(e in this?this:this._Date)[e]()},T.prototype.fire=function(t){for(var e,r,o=this.mode,a=this.M,i=t==n?this._Date:this.date(t),s=0,h=a.length;s<h;s++)r=(e=this.Map[a[s]])in this,o=o.replace(a[s],run(r?this:i,e,i)+(r?"":this.Map[e]||0));return this.lt10(o)},T.prototype.lt10=function(t){return(t+"").replace(/(?:(\D)|^)(\d)(?!\d)/g,"$10$2")};var s=["一|二|三|四|五|六|日","Mon|Tue|Wed|Thu|Fri|Sat|Sun","月|火|水|木|金|土|日"];function DJson(t){this.data=t instanceof Array?t:[]}DJson.prototype.append=function(t,e,r,o,a){var i={day:t};return e!=n&&(i.month=e),r!=n&&(i.year=r),o!=n&&(i.title=o),a!=n&&(i.cur=a),this.data.push(i)},T.prototype.dates=function(t){var e=this.get("YYYY"),r=this.get("MM")+t+1,n=this.get("DD"),o=+(r>12),a=12*+(r<1);return{year:e=e+-1*+!!a+o,month:r=r%13+a+o,day:Math.min(n,getDayNumberByMonthAndYear(r,e))}},T.prototype.days=function(t,e,r){var n=Json2Date(this,r)||this._Date||new Date,o=n.getFullYear(),a=n.getMonth()+1,i=n.getDate(),h=n.getDay();t>>0||(t=0);for(var p,u,m,f=((h-(i-1))%7+t+7-1)%7,_=getDayNumberByMonthAndYear(a,o),g=(s[e>>0]||s[0]).split("|"),c=new DJson,d=0;d<7;d++)c.append(g[(d-t+7)%7],void 0,void 0,"title");if(f)for(var y=o-+!(a-1),l=a-1||12,D=getDayNumberByMonthAndYear(l,y),Y=f;Y-- >0;)c.append(D-Y,l,y,"prev");for(var v=1;v<=_;v++)p=c.append(v,a,o,"current",u=i==v),u&&(c.data.cur=p-1);if(m=(_+f)%7){o+=+(a>=12),a=(a+1)%12||12;for(var M=1,T=7-m;M<=T;M++)c.append(M,a,o,"next")}return c.data},r.exports=T});
!function(t,e){if(t.global=t,"object"==typeof exports);else if("function"==typeof define)define("time.box",e);else{var s={exports:{}};e(function(e){return t[e]||alert('需要实现 require(),加载模块:"'+e+'"')},s.exports,s),t["time.box"]=s.exports}}(this,function(t,e,s){var i=t("dialog"),r=t("time"),a="",n=1e4,o="{year,year,1970}-{month>>0<10,0,}{month,month,1}-{day>>0<10,0,}{day,day,1}",h={YYYY:"year",MM:"month",DD:"day",hh:"hour","24h":"hour",mm:"min",ss:"sec"},c=/[^\w]+/g,l={};function EN(t,e,s){i.between(t,e,function(t,e,i){(t=e-t+i)<10&&(t="0"+t),s.push({name:t,val:+t})})}var m=[],u=[],p=[];function TimePicker(){this.timeRule=new r(a)}function M(t,e){i.merge(t,e,!0)}function goto(t,e,s){var i=t.TR;if(s||(s=i.dates(e>>0)),M(t,s),t.times=i.days(0,0,s),!t.showhms){var r=t.times[7],a=o.exec(t.start),n=o.exec(t.end),h=o.exec(r),c=o.exec({}),l=h>a&&(h<n||n==c&&a!=c);t.times[6].bh=l}}function GetYears(t,e,s){var i=t.year;return e instanceof Array||(e=[]),s||(s=3),EN(i-s,i+s,e),e.push({val:"→",value:"+"+(s+1),type:"page"}),e.unshift({val:"←",value:"-"+(s+1),type:"page"}),e}function triggerDate(t,e,s){if(!t.showhms&&!t.host.isInput){var i=t.host.modeshow.data.data;if(!e)return i.remove(s);i.length>s?i[s]=e:i.push(e)}}function isNotTitileAndIsNotSame(t,e){return"title"==t.title||!t.show||o.exec(t)==o.exec(t[e||"start"])}function triggerHMS(t,e,s){t.hours=!0,t.target={target:e.target.parentNode,step:s}}function YMD(t,e){return i.picker(t,e||"year,month,day")}function HMS(t,e,s,r){var a,n=t.host;if(n.isInput){if(n.config.simply){var o=n.config.mode;i.merge(t,YMD(t.start),!0),a=iValue(t,o,e,s)}else n.current[e]=r,a=n.value().join(n.split);i.query(n.config.target).val(a)}}function iValue(t,e,s,r){return i.each(h,function(t,s,i,r,a){e=e.replace(t,(s=+(r==s?a:this[s]))>9?s:"0"+s)},t,s,r),e}EN(0,23,m),EN(0,59,u),EN(1,12,p),TimePicker.prototype.re=function(){var t=this.config,e=t.mode.split(c),s=t.target,r=function isInput(t){return/input/i.test(t.nodeName)}(s),a=this.current;this.isInput=r;var n=r?i.query(s).val():t.current;n&&i.each(n.split(this.split),function(t,s,r,a){r={},i.each(s.split(c),function(t,e,s,i){i[h[this[t]]]=+e},e,r),a[t]=r},e,a)},TimePicker.prototype.clear=function(){var t=this.current=[];this.modeshow.data.data=t},TimePicker.prototype.init=function(t){this.config=t;var e=[];if(this.split=t.sep||",",this.current=e,this.re(),!this.isInput){var s=this.modeshow=i.render('<span class="times-simply" :for="data" :onclick="rem">{year?year:1970}-{(month > 9 ? "" : "0") + (+month)}-{(day > 9 ? "" : "0") + (+day)}<span class="time-simply-close">×</span></span>',{data:{data:e},events:{rem(){return this.remove(),!1}}});i.query(t.target).html(s.node)}},TimePicker.prototype.value=function(){var t=[];return i.each(this.current,function(e,s,i){t.push(iValue(s,i))},this.config.mode),t},TimePicker.prototype.run=function(t){var e=this.config;e||(this.init(t),e=this.config);var s=i.query(e.target);if(!s.is(".select-using")){s.addClass("select-using");var r=e.mode.match(/(?:24|12|h)h|mm|ss/g),a=this.timeRule,h=this.current[0]||{},c={TR:a,times:a.days(0,0,h),count:0,show:!e.simply,selected:[],start:h,end:this.current[e.simply?0:1]||{},forbidstart:e.start,forbidend:e.end,hours:!!e.simply,hour:h.hour||"00",min:h.min||"00",sec:h.sec||"00",target:null,showhms:!(!r||!r.length),host:this};M(c,YMD(c.times[14]));var l={start(t){triggerDate(this,t,0),t&&HMS(this,0,void 0,t)},hour(t){HMS(this,"hour",t)},min(t){HMS(this,"min",t)},sec(t){HMS(this,"sec",t)},end(t){triggerDate(this,t,1),t&&(this.showhms?i.query(".time-h",this._el).trigger("click"):d.remove(),HMS(this,1,void 0,t))},target(t){if(t){var e=this,s=[m,u,u],r=["小时","分钟","秒"],a=t.step>>0;i.auto({selector:"times hms",mode:'((div.title{请选择}>.time-hms{{title}}+span.time-next[:onclick="step"]{→{titles[(step + 1) % 3]}})+.span.beteen.current-month[:for="data" :onclick="click" :class.cur.hover="values[step % 3]==name"]{{name}})',data:{data:s[a],step:a,title:r[a],names:["hour","min","sec"],values:[e.hour,e.min,e.sec],cur:e.hour,titles:r},watch:{step(t){t%=3,this.data=s[t],this.title=this.titles[t],i.resize()}},events:{click(){var t=this.step%3;this.values[t]=this.name,e[this.names[t]]=this.name,this.step++},step(){this.step++}}},{last(){this.proxy("bg",function(t,e){e.remove()})},center:!1,position:{target:t.target,position:"bottom,right"}})}}};(c.forbidstart||c.forbidend)&&(l.times=function(t,e){var s=o.exec(t),i=s<=this.forbidstart||s>=this.forbidend;this.times[e]?this.times[e].forbidden=i:t.forbidden=i});var d=i.auto({mode:'<div class="times"><div class="month-select"><div class="title"><span :onclick="prev" class="prev-month">←</span><div class="current-date"><span :onclick="showYM">{year}-{month}</span></div><span :onclick="next" class="next-month">→</span></div></div><span :for="times" :class="title + "-month"" :onclick="trigger" :class="$1 = start && start.year==year && start.month==month && start.day==day, $2 = end && end.year==year && end.month==month && end.day==day, $1 == $2 && $1 == true || $2 ? "hover cur": $1 ? "cur":""" :class.beteen.hover="bh" :class.cur="select" :class.beteen="show && title!="title"" :class.hover="hover" :onmouseover="hover" :onmouseout="out" :class.forbidden="forbidden">{day}</span><div class="timea-show-hms-box" :if="showhms"><span :onclick="showhours">{hours ? "关闭" : "设置时间"}</span><span :if="hours" class="timea-show-hms"><span class="time-h" :onclick="seth">{hour||"00"}</span>:<span class="time-m" :onclick="setm">{min||"00"}</span>:<span class="time-s" :onclick="sets">{sec||"00"}</span></span></div></div>',data:c,watch:l,events:{prev(){goto(this,-1)},next(){goto(this,1)},trigger(){if("title"!=this.title&&!this.forbidden){this.select=!this.select;var t=YMD(this);if(this.host.config.simply)return this.start=t,this.end=t;if(this.show){var e=o.exec(this.start),s=o.exec(this.end),i=o.exec(t),r=o.exec({});if(i==e)this.end=t,this.hover=!0;else if(e==r)this.start=t;else if(s==i)this.end=null;else if(i>e)this.end=t;else{e=YMD(this.start);this.start=t,this.end=e}}else this.hover=this.show}},hover(){isNotTitileAndIsNotSame(this)||(this.hover=!0)},out(){isNotTitileAndIsNotSame(this,"end")||(this.hover=!1)},seth(t){triggerHMS(this,t,0)},setm(t){triggerHMS(this,t,1)},sets(t){triggerHMS(this,t,2)},showhours(t){(this.hours=!this.hours)&&(this.target={target:i.query(t.target).next()})},showYM(t){var e=GetYears(this,e),s=["年","月"],r=[e,p],a=this;i.auto({selector:"times ym",mode:'((div.title{请选择}>.time-hms{{title}}+span.time-next[:onclick="step"]{→{titles[(step + 1) % 2]}})+div.yearsormonth>.span.beteen.current-month[:for="data" :onclick="click" :class.cur.hover="values[step % 2]==val"]{{val}})',data:{_freeze__:!0,data:r[0],step:0,title:s[0],titles:s,names:["year","month"],values:[this.year,this.month]},watch:{step(t){t%=2,this.data=r[t],this.title=s[t],i.resize()}},events:{click(){if("page"!=this.type){var t=this.step%=2;this.values[t]=this.val,a[this.names[t]]=this.val,this.step++}else r[0]=this.data=GetYears({year:this.data[0==this.$idx?1:this.data.length-2].val+ +this.value})},step(){this.step++}}},{last(){this.proxy("bg",function(t,e){goto(a,null,i.picker(a,"year,month,day")),e.remove()})},center:!1,position:{target:t.target,position:"bottom,right"}})}}},{last(){this.proxy("bg",function(t,e){e.remove()})},center:!1,position:{target:e.target,position:e.pos}}),v=function iTips(t){var e=t.simply?"请选择((时间|.mark))":'请选取((.mark[text="时间区间"]))',s=i.picker(t,"tips|position=>position,target");return i.notice(e,n,s).addClass("hide-bg")}(e);d.onclose(function(){s.removeClass("select-using"),v.remove()}),d.onresize(function(){v.resize()})}},e.factory=function(t){var e;return t&&1==t.nodeType&&((e=i.attr(t,"data-timepicker-index"))||i.attr(t,"data-timepicker-index",e=+new Date),t=e),!0===t?new TimePicker:l[e=t||"___"]||(l[e]=new TimePicker)}});
!function(t,e){if(t.global=t,"object"==typeof exports);else if("function"==typeof define)define("ajax",e);else{var r={exports:{}};e(function(e){return t[e]||alert('需要实现 require(),加载模块:"'+e+'"')},r.exports,r),t.ajax=r.exports}}(this,function(t,e,r){for(var a,o=t("dialog"),n=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],s=0,c=n.length;s<c;s++)try{n[s]();break}catch(p){}e.httpRequest=n[s]||function(){alert("不支持AJAX!")};var i="",u=["GET","POST","OPTION"],l=/^(json[p]?|script)$/;function dataToUrl(t,e,r){if(!e)return t;var o,n,s=[];if("string"==typeof e)s.push(e);else for(var c in e)o=(n=e[c])===a?i:n,e.hasOwnProperty(c)&&s.push(c+"="+(r?o:encodeURIComponent(o)));return"{url}{has,has,}[arr]".format({url:t,has:t?["?","&"][+/\?/.test(t)]:"",arr:s.join("&")})}e._default={type:u[0],timeout:15e3,success:function(){},error:function(){},async:!0,data:{},dataType:"json"},e.worker=global.fetch?function _fetch(t){fetch(t.url,{method:t.type,headers:t.headers,body:t.body,mode:t.mode||"cors"}).then(function(e){e[t.dataType||"json"]().then(function(e){t.success(e)})["catch"](function(e){o.runer(t.fail,a,e)})})["catch"](function(e){o.runer(t.fail,a,e)})}:function _xhr(t){var e=this.httpRequest();e.open(t.type,t.url,t.async),o.each(t.headers,function(t,e,r){r.setRequestHeader(t,e)},e),e.onreadystatechange=function(r){var a=r&&r.target||e;4==a.readyState&&(clearTimeout(a.timeoutMark),delete a.timeoutMark,a.status>=200&&a.status<300||304===a.status||1223===a.status?t.success.call(a,function _ToScriptByType__(t,e){return l.test(t)?new Function("return "+e)():e}(t.dataType,a.response||a.responseText)):t.error.call(e))},e.timeoutMark=setTimeout(function(){delete e.timeoutMark,t.error.call(e)},t.timeout),e.send(t.body)},e.request=function(t){t.headers||delete t.headers,o.mix(t,this._default,{headers:{}}),/^jsonp$/.test(t.dataType)?function jsonp(t){var e=t.url,r=o.url2kv(e),a=r.jsonpcallback||r.callback,n="i{100-999}[now]".format(),s={jsonpcallback:n,callback:n};if(!a){var c={},i=t.jsonpcallback||t.jsonp||"callback";c[i]="?",e=dataToUrl(e,c,!0),s[i]=n}e=(e=dataToUrl(e,t.data)).format(s),window[n]=t.success;var u=setTimeout(function(){t.error({msg:"Time Is Out! {timeout}".format(t)}),l.remove()},t.timeout),l=o.query("script".buildHtml(!0));l.load(function(){clearTimeout(u),delete window[n],l.remove()}),l.error(function(e){clearTimeout(u),t.error({msg:"Load Module Err! {url}".format(t),data:e}),l.remove()}),l.appendTo("head").attr({src:e,type:"text/javascript"})}(t):function ajax(t){o.runer(t.init,t,t),t.type=(t.type||u[0]).toUpperCase();var e=/^get$/i.test(t.type),r=t.data;return t.url=dataToUrl(t.url,e?r:i,!0),/\[object (?:Object|String)]/.test(Object.prototype.toString.call(r))&&(o.merge(t.headers,{"Content-Type":"application/x-www-form-urlencoded"}),r=e?undefined:dataToUrl(i,r)),"string"==typeof t.headers&&(t.dataType=o.picker(t,"headers|dataType=>h").h,t.headers=o.picker({all:"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},"{headers}|all=>Accept".format(t))),t.body=r,this.worker(t)}.call(this,t)}});
!function(t,e,i){if(t.global=t,"object"==typeof exports);else if("function"==typeof define)define("dialog",e);else{var n={exports:{}};e(void 0,n.exports,n),t.dialog=n.exports}}(this,function(t,e,i){var n,r=20160516,s=r,a=0,o=0,u=document,c=u.documentElement,h=/ie\s*(6|5)/gi.test(navigator.userAgent),l=/(?:trident\/\d*.*rv[^\w]*\d*|msie\s*)/i.test(navigator.userAgent),f=/\[object\s(\w+)\]/,p=/\s*[;|]\s*/,d=/\s*:\s*/,m=/((\d+)\-(\d+))/,g=/(?:\,|\|{2})/,v=/=>/,y=/(?:=>|,)/,k=/-([a-z])/g,b=/(height|width|top|left|bottom|right|size|radius|padding|margin|border)(?:\=|$)/i,S=/^\s*([\+\-\*\/])=(\d+)\w*/,x=/(?:^|;\s*)center\s*:\s*false/,w=/^[-+]?\d+(?:\.\d+)?$/,_=/^-?\d+(?:\.\d+)?/,N=h?"absolute":"fixed",E="div",P="e-dialog",R="",T=".",$="*",C="$1",A=":",B="target;srcElement=>target",L="px",D="data",F="number",I="hover-show-hand",z="offsetWidth",H="offsetHeight",M="paddingLeft|padding-left=>l,paddingTop|padding-top=>t,paddingRight|padding-right=>r,paddingBottom|padding-bottom=>b",W=["innerHTML","value"],Q=["getAttribute","setAttribute"],G=["querySelector","querySelectorAll"],O={},j={},U={},V=[],K=[].slice;function isEmpty(t){for(var e in t)return!1;return!0}function iTypeTo(t){return U.toString.call(t)}Function.prototype.bind||(Function.prototype.bind=function(){var t=this;if(!(t instanceof Function))throw"This is not a Function!";var e=iList2Array(arguments),i=e.shift();return function(){var n=iList2Array(arguments);return Array.prototype.unshift.apply(n,e),t.apply(i,n)}});var Z=iTypeTo(R),q=iTypeTo(window);function isSimplyType(t){return/\[object (?:string|number|boolean|null|undefined|Symbol)\]/i.test(iTypeTo(t))}function isArray(t){return t instanceof Array}function isType(t,e){return iTypeTo(t)==e}function isString(t){return isType(t,Z)}var J=function(t){return isType(t,"[object NodeList]")||isArray(t)};function iContent4Element(t){return W[+/input|textarea/i.test(t)]}function iList2Array(t){return t&&1===t.length?[t[0]]:Array.apply(n,t)}var X={number:function(t){return parseFloat(t)},float:function(t){return parseFloat(t)},int:function(t){return parseInt(t)}},Y={CENTER:"center",rWidth:/top|bottom/,aLT:["left","top"],aWH:["width","height"],rPosition:/(?:(center)|(left|top|right|bottom))/g,css:function(t,e,i,n,r){r=this.aWH[n],t[this.aLT[n]]=(e[r]-i[r])/2},trigger:function(t,e,i){var n=this.CENTER;t||(t=n),i||(i={});for(var r,s,a,o={},u=this.rWidth,c=t.match(this.rPosition),h=0,l=c.length;h<l;h++)(a=c[h])!=n?o[a]=0:(s=c[(h+1)%l],r=+!u.test(s),this.css(o,i,e,r),s==a&&this.css(o,i,e,+!r));return o}},tt={WHITE:" ",ID:"#",TAG:"tag",QUTO:'"',ATTR:"[",INNER:"{",CHILD:">",CLAZZ:".",SIBLING:"+",BLOCK:"(",BLOCKEND:")",INNEREND:"}",ESCAPE:"\\",aMode:["<tag#.[>#*i*#</tag>","<tag#.[/>"],rVal:/^\s*(.*)$/,rPar:/\({2}(?:((?:(?!\({2}|\|).)+)\|)?((?:(?!\({2}).)+)\){2}/g,rIsForbid:/(?:[^\w-:~]+|^[\s]+)$/,rSimply:/^(?:img|link|input|meta|br|hr|area)$/,rNL:/[\r\n]/,rWhite:/[\s]/,_default:{"#":[/#/,R,' id="$1"'],".":[/\./,R,' class="$1"'],"[":[/\[/,R," $1"],tag:[/tag/g,"span",C],"{":[/#\*i\*#/g,R,C]},INDEXS:["tag",".","#","[","{"],factory:function(){return{tag:[],".":[],"#":[],"[":[],"{":[]}},toHtml:function(t,e){var i=this.xcode(t,0,e).parent;return-1==i?t:this.build(i)},build:function(t){for(var e,i,n,r=this.aMode[+this.rSimply.test(t.tag.join(R))],s=this._default,a=this.INDEXS,o=0,u=0,c=a.length;u<c;u++)e=t[n=a[u]].join(R),o||c-u!=1?(i=s[n],r=r.replace(i[0],e?e.replace(this.rVal,i[2]):i[1])):r=e,o+=+!!e;return r},xcode:function(t,e,i,r){for(var s,a,o,u,c,h,l=this.factory(),f=0,p=this.ID,d=this.ATTR,m=this.INNER,g=this.CLAZZ,v=this.CHILD,y=this.SIBLING,k=this.INNEREND,b=this.BLOCKEND,S=this.BLOCK,x=this.QUTO,w=this.rNL,_=this.rWhite,N=0,E=!1,P=!1,T=l[m],$=e,C=t.length;$<C;$++){if(u){$--,u=!1;break}if(s=t[$],!(w.test(s)&&(P=!0)||P&&_.test(s)))if(P=!1,N+=-1*+(k==s)||+(m==s),h=l[a=a||"tag"],t[$-1]!=this.ESCAPE)if(s!=x||N)if(E&&0==N&&(E=!1),f%2||E)h.push(s);else{switch(!1===o&&h.push(this.WHITE),s){case k:case"]":c=!1;break;case d:a=s,c=!0;break;case g:o=!1;case p:case m:c?(h.push(s),o=!0):(s==m&&(E=!0),a=s);break;case v:case y:case S:case b:if(u=s!=v&&v==r||s==b&&$++)break;e=$+1;var A=this.xcode(t,e,n,v);T.push(this.build(A.parent)),s==v&&v==r&&(r=n),$=A.index-1;break;default:o=!0,h.push(s)}if(a==this.TAG&&this.rIsForbid.test(l.tag.join(R)))return{parent:-1}}else f++,h.push(s);else h.pop(),h.push(s)}return i!=n&&T.push(i),{index:$,parent:l}}};function selector2Html(t){return tt.toHtml(t)}var et={},it=[function(t,e){return e._test(t),css2js(ct.$1)},function(t){return t}];function iAttrs(t,e,i,n){var r;i||(i=D),t||(t={});var s=it[+(!0===n)];if(i==D&&t.dataset)r=t.dataset;else{var a=et[i]||(et[i]=i?new RegExp("^"+i+"-(.+)","i"):/.*/);r=t.attributes;var o,u={};for(var c in r)Object.hasOwnProperty.call(r,c)&&(o=r[c],a.test(o.name)&&(u[s(o.name,a)]=o.value));r=u}return iPicker(r,css2js(e||$))}function iSetGetAttr(t,e,i){if(isFunction(i)&&(i=i.call(t,e,t)),null===i)return 1==t.nodeType&&t.removeAttribute(e);var n,r=isNil(i),s=Q[+!r],a=t[s];if(r){if(y.test(e))return iMultiOrReKeys(e.split(g),function(e,i,n,r){if(i=iSetGetAttr(t,e))return r[n]=i,!0});var o=a&&t[s](e)||t[e];return isNil(o)?null:o}!a||!isNil(n=t[e])&&isSimplyType(n)?t[e]=i:t[s](e,i)}function iAttr(t,e,i){var n;if(isString(e)){if(isNil(i))return iSetGetAttr(t,e);(n={})[e]=i}else n=e;each(n,function(t,e,i,n){n(i,t,e)},t,iSetGetAttr)}function iFxInnerReplace(t,e){return e.toUpperCase()}function css2js(t){return t.replace(k,iFxInnerReplace)}function iSetStyle(t,e,i,r){1==t.nodeType&&(k.test(e)&&(e=css2js(e)),b.test(e)&&(S._test(i)&&(i=iRuner(yt[ct.$1],n,ct.$2,pt(t,e,F)[e]>>0)),w.test(i)&&(i+=r||L)),t.style[e]=i)}function iCssGetSet(t,e,i){if(isString(t))return isNil(e)||b.test(t)&&e==F?isNil(e=isSimplyData(pt(i,t,e),t))?null:e:iSetStyle(i,t,e);each(t,function(t,e,i,n){iSetStyle(i,t,e,n)},i,e)}function iCss(t,e,i){return iCssGetSet(e,i,t)}var nt=["shift","pop","unshift","push"];function merge(t,e,i,n){var r,s;s=K.call(arguments),r=s.pop();var a={revers:!1};/^mix|one|first$/i.test(r)&&(a.revers=!0,r=s.pop()),/^false|true$/gi.test(r)||(s.push(r),r=!1),a.source=[[s[nt[+!a.revers]]()]],a.source[nt[+a.revers+2]](s),each(a.source[0],function(t,e){each(a.source[1],function(t,e,i){for(t in e)!r&&i.hasOwnProperty&&i.hasOwnProperty(t)||(i[t]=e[t])},e)})}function iRuner(t,e){if(isNil(t))return n;var i,r=iList2Array(arguments);t=r.shift(),e=r.shift(),isArray(t)||(t=[t]);for(var s=0,a=t.length;s<a;s++)if(t[s]instanceof Function&&(i=t[s].apply(e,r))!==n)return i}function pickVarLine(t,e){var i,n,r=e[t],s=t;if(r)i=r,n=e;else{var a=iToCutByDot(t);n=(s=a[0])in e?e:global;for(var o=0,u=a.length;o<u;o++)(i=n[a[o]])&&(i instanceof Function&&(i=i.call(n)),o!=u-1&&(n=i))}return r={head:s,data:i,parent:n}}var rt=/(?:\[(\w+)\]|\{(\w+)\}|\[([^\[\]\{\}'"]+)\]|{(\d+)\-(\d+)}|([\w$]+)((?:=|:\s*))\?)|{([^,\}\{]+),([^,}]*),([^,}]*)}/g,st=/(?:,)/,at={now:function(){return+new Date}},ot=/(?:\W|^)(?:var|let|const|in|while|for|of|this|true|false)\W+/gi;function _GetExp2funcValue(t,e){var i;if(/[><=!&%\+\-\*/|]/.test(t)){var r=t.replace(ot,R).match(/([a-z_$]+\w*)/gi)||[],s=[];each(r,function(t,e,i,n){i.push(n[e])},s,e),i=new Function(r.join(","),"return "+t).apply(n,s)}else i=e[t]||t;return i}function iStringFormat(t){var e=this,i=arguments.length,n=!isString(e)&&isString(t);if((i>1||isSimplyType(t))&&(t=iList2Array(arguments),n&&(e=t.shift(),1!=t.length||isSimplyType(t[0])||(t=t.shift())),/[?]/.test(e)&&isArray(t)))return TextFormat(e,t);t||(t={});var r=!!t.now;merge(t,at),t._groups__={};var s=(e+R).replace(rt,function iReplace(t,e,i,n,r,s,a,o,u,c,h){var l,f=this._groups__;if(f&&t in f)return f[t];if(/^\d+$/.test(r+s))return between(r,s);if(u)return _GetExp2funcValue(_GetExp2funcValue(u,this)?c:h,this);if(n)return(l=(n=n.split(st))[0])in this&&this[l]instanceof Function?this[n.shift()].apply(this,n):n[between(0,n.length-1)];var p=i||e||a;return a||(a=R,o||(o=R)),this&&p?isNil(l=this[p])?t:a+o+(l instanceof Function?l.call(this):l):(f[t]=t,t)}.bind(t));return delete t._groups__,r||delete t.now,s}function between(t,e,i,n){isString(t)&&m._test(t)&&(t=ct.$2,e=ct.$3);var r,s,a=+!!n;+t<+e?(r=+t,s=+e):(r=+e,s=+t);var o=s-r+1-2*a;if(!isFunction(i))return(1e6*Math.random()>>0)%o+r;for(;o-- >0&&!iRuner(i,null,r+o+a,s,r););}function giveUHtmlBySelector(t){return t.replace(tt.rPar,function(t,e,i){return tt.toHtml(i,e)})}function iMultiOrReKeys(t,e){var i={};return each(t,function(t,e,i,r,s){s(t=(e=e.split(v))[0].split(p),function(t,e,i,r,s,a){return iRuner(r,n,e,t,isNil(i)?e:i,s,t+1==a)},e[1],r,i,t.length)},i,e,each),isEmpty(i)?n:i}function iPickByRule(t,e,i,r,s,a){var o=iMultiOrReKeys(i,function(t,i,r,o){var u,c=/(?:(?:(.*).|)\*$|\*\.)/._test(r);if(c&&(u=ct.$1)&&(o=iGetDataByLine(u,o,{})),i=iGetDataByLine(t,e,!1),c)return merge(o,i||e),n;if(!isNil(i)){var h,l,f=iRuner(X[s&&s[r]||s],n,i);return i=isNumber(f)?f:isNil(f)?i:n,l=isNil(h=iRuner(a,o,r,i)),isNil(i)&&l||(o[r]=l?i:h),!0}});isNil(o)||r.push(o)}function picktype(t){return iTypeTo(t).replace(f,C)}String.prototype.exec=String.prototype.format=iStringFormat;var ut=picktype(U);function isNil(t){return t===n}function isFunction(t){return t instanceof Function}function MS(t,e,i){isFunction(e)||(e=function(){}),t.forEach(function(t,i){e.call(this,i,t)},this)}var ct,ht={changeWay:function(t,e,i,n){return e[0]=t,e[1]=i[t],!isNil(this.ret=n.apply(this.context,e))},Array:function(t,e,i){for(var n=0,r=t.length>>0;n<r;n++)if(ht.changeWay.call(this,n,i,t,e))return this.ret},Object:function(t,e,i){for(var n in t)if(t.hasOwnProperty&&t.hasOwnProperty(n)&&ht.changeWay.call(this,n,i,t,e))return this.ret},Set:MS,Map:MS};function each(t,e,i){if(isFunction(e))return(ht[picktype(t)]||ht[ut]).call({context:i||t},t,e,iList2Array(arguments))}ht.NodeList=ht.Array,RegExp.prototype._test=function(t){this.global&&(this.lastIndex=0);var e=t!=n?this.exec(t):n;return ct={},!(!e||!e.length)&&(each(e,function(t,e){0!=t&&(this["$"+t]=e||R)},ct),!0)};var lt={},ft=0;function iPicker(t,e,i,n){if(e==$)return t;var r;if(isArray(e))r=e=e.join(T);else if(!isString(e)||isEmpty(t))return{};var s,a=[],o=!(!0===i||!0===n)&&isArray(t);return o||(t=[t]),each(t,iPickByRule,function formatPickerRule(t){return t.replace(/((?:^|,)(?:(?!\=\>|,).)*(\*)(?=,|$))/g,"$1=>$2")}(e).split(g),a,i,n),s=o?a:a.pop()||{},r?s[r]:s}each("margin,offset,inner".split(g),function(t,e,i){i[e]=t,ft++},lt);var pt=u.defaultView?function(t,e,i){return iPicker(1==t.nodeType?_.test(t.style[e])?t.style:u.defaultView.getComputedStyle(t,R):{},e||$,i)}:function(t,e,i){return iPicker(t.currentStyle,e||$,i)};function Query(t,e,i){return!1===e&&(i=!1,e=n,1)||(i=i===n||i),t instanceof Query?!1===i?t.first():t:isNaN(+t)?(Selector.call(this,t,e,i),this.length=this.result.length,this.animateTasks=[],void each(this.result,function(t,e,i){iListener(i,t,{first:t,context:i,get:function(t){return this.result[t]}},i)},this)):this}var dt=/^<(\w+)\s*([^>]*)(?:\/|>((?:(?!\<\/\1)[\w\W])*)<\/\1|)>$/,mt=/<\w[^<\>]*>/i;function Selector(t,e,i){if(!t)return this.result=[],this;var r;isString(t)&&(!0===e&&(t=t.buildHtml(!0))||mt.test(t))?r=function iSelectorOrHtmlstring2Element(t){var e=dt._test(t),i=function iCreateElement(t){return u.createElement(t||E)}(e?ct.$1:0);if(e){var n=ct.$2,r=ct.$3;return iString2KeyValue(n,function(t,e){this[t]?this[t](this._,e,!0):this.$(this._,t,e)},{"class":iClass,$:iAttr,_:i}),iHtml(i,r).result}return i.innerHTML=t,iList2Array(i.childNodes)}(t):(e||(e=this.result),r=isArray(t)?t:1==t.nodeType||9==t.nodeType||iTypeTo(t)==q?[t]:function iQuerySelectorByString(t,e,i,r){var s,a,o;i!=R&&isString(i)&&(i=Selector.call(t,i,n,r));if(i&&J(s=i.result||i))each(s,function(t,e,i,n,s){e=iList2Array((e=Selector.call(i,s,e,r)).result),n.push.apply(n,e)},t,a=[],e);else{if(!isString(e))return[e];i||(i=u);var c=G[+!!r];gt._test(e)&&(o=u.getElementById(ct.$1))&&(e=e.replace(gt,R),i=o),e=e.replace(/(\:(?:first|last|only|nth|nth-last))(?:\s|$|(\([^\)]+\)))/g,"$1-child$2").replace(/(\[[^=]+=)([^"']+)(\])/g,'$1"$2"$3'),vt.test(e)&&(e=e.replace(vt,"*$1")),a=i[c]&&i[c](e)||[]}return a}(this,t,e,i));return this.result=r.nodeType?[r]:iList2Array(r),this}var gt=/#(\d+)\w*\s*/,vt=/^((?:>|\+|~))/;function iExecSimply(t,e,i,r,s){return t.each(function(t,i,s,a,o,u){return u?iRuner(r,n,e,s,i,o,u):a(e,r,i,o,u,s)},i,s,t,isString(e))}var yt={};each(["+","-","*","/"],function(t,e,i){i[e]=new Function("to","cur","return +cur"+e+" +to;")},yt);var kt={};function rClassInElement(t,e){e||(e=R);var i=t+e;return kt[i]||(kt[i]=new RegExp("(?:(?:^|\\s+)"+t+"(?:s*$|(\\s)+))",e||"g"))}function iClass(t,e,i){if(t&&1==t.nodeType){var n={clazz:t.className};isString(n.clazz)&&(each(e.split(/\s+/),function(t,e,n,r){if(e!=R){r=rClassInElement(e);var s=n.clazz;/undefined|false|null/.test(i)?n.clazz=s.replace(r,C):s.search(r)<0&&(n.clazz=(s==R?R:s+" ")+e)}},n),t.className=n.clazz)}}function iHtmlOrAppend(t,e,i,n,r){each(t,function(t,e,i,s,a){var o;1==i.nodeType&&(i=[i]),(r&&(o=[i])||J(o=i)||i instanceof Query&&(o=i.result)||isString(i)&&(o=iQuery(i).result))&&(!0!==n&&(e[iContent4Element(e.tagName)]=R),a(o,function(t,e,i,n){n(i,e)},e,s))},e,i||new Function,each)}var bt="["+P+"]";function iRemoveEvent(t,e){var i,r=isString(e)?function string2map(t,e,i){var n={};return each(t.split(e||"&"),function(t,e,n){var r=e.split("=");(t=r[0])!==R&&(n[t]=r[1]||i)},n),isEmpty(n)?R:n}(e,/\s+/g,!0):e===n||R;r?i=t:(i=t.find(bt),Array.prototype.unshift.apply(i.result,t.result));var s=!0!==r&&r;i.each(function(e,i,n,r,s,a,o){var u=s(i),c=n[u];o(c,function(t,e,i,n,r,s,a){(!s||t in s)&&(delete n[t],delete r[t],a(e,function(t,e,i,n){Tt.removeEventListener(i,n,e)},i,t))},i,c,r,a,o),a||delete t[u]},t.events||{},t.E||{},iGetEventMark,s?r:R,each),t.each(e)}var St={};function isSimplyData(t,e){var i;return!e||St[e]==n&&g.test(e)?t:t[i=St[e]||(i=e.split(v),St[e]=i[1]||i[0])]}var xt=/([@*\w-.]+)=(?:("|')((?:(?!\2).)*)\2|([^=&\s]*))/,wt={".":function(t,e){return rClassInElement(t,"i").test(e.className)},"[":function(t,e,i,n){return xt._test(t)?(t=ct.$1,n=ct.$3||ct.$4):n=null,i=iAttr(e,t),null!=n?i===n:null!=i},"#":function(t,e){return e.id==t},tag:function(t,e){return t.toUpperCase()==e.tagName},"{":function(){return!1}};function iElementsIs(t,e,i){var r;if(e!=n&&!/\s+/.test(e)){r=[];var s,a=0,o=[],u=isArray(t)?t:[t];for(each(tt.xcode(e,0).parent,function(t,e,i){if(e.length){var r=e.pop();g.test(r)||e.push(r),i.push(function(t,e){return!0===iRuner(this,n,t,e)||n}.bind(wt[t],(t==T&&e.shift(),e.join(R))))}},o);s||(s=u[a++]);)iRuner(o,n,s)?(r.push(s),s=n):s=i?s.parentNode:n}return r}function iPackHtml(t){var e,i=this.result;return isNil(t)?(e=i[0])&&e[iContent4Element(e.tagName)]:(iHtmlOrAppend(i,t,function(t,e){var i=iContent4Element(t.tagName);e.nodeType&&t.appendChild(e)||(t[i]=e)},!1,isString(t)||!isNaN(+t)),this)}function brother(t){var e=[];return this.each(function(e,i,n,r){(r=function changeyourbrother(t,e){return iPicker(t,e?"nextElementSibling|nextSibling=>node":"previousElementSibling|previousSibling=>node")}(i,t).node)&&n.push(r)},e),iQuery(e)}var _t=[function(t,e){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))},function(t,e){t.replaceWith(e)}][+("replaceWith"in c)];function AnimateTask(t){each(t,function(t,e){this[t]=e},this)}function iRanks(t,e,i,r){var s=i.host,a=i.config;if(a.ms=Date.now(),r)s.animating=!1,each(a.times,function(t,e){clearInterval(e)}),"true"==r&&s.css(a.to),iRuner(a.callback);else{if(s.animating)return i.immediately=!0;s.animating=!0,a.times={},a.to={},each(a.attributes,function(t,e,i,r,s){++s.count;var a,o=pt(i,t,F)[t];+o||(o=0);var u=(a=S._test(e)?iRuner(yt[ct.$1],n,ct.$2,o):e)-o;if(s.to[t]=a,0==u||isNaN(u))return iSetStyle(i,t,a),void s.count--;s.times[t]=setInterval(function iFlash(t,e,i,r,s,a){var o,u=i-e,c=this.speed;if((o=Date.now()-this.ms)>=c&&(clearInterval(a[t]),o=c,this.count--,0==this.count)){s.animating=!1,iRuner(s.step,s,i),iSetStyle(r,t,i),iRuner(this.callback);var h=s.animateTasks;return h.shift(),h.length>0?h[0].run(0):void 0}var l=u*o/c,f=iRuner(this.easing,s,l/u,t);f!=n&&(l=f*u),iRuner(s.step,s,e+l,t),iSetStyle(r,t,e+l)}.bind(s,t,o,a,i,r,s.times),13)},e,s,a)}}Query.prototype={events:{},html:iPackHtml,on:function(t,e,i){var n=e instanceof Function?e:function(t){var n;(n=iWithIn(e,t.target))&&i.call(n||this,t)};return each(t.split(p),function(t,e){iEvent(e).call(this,n)},this),this},next:function(){return brother.call(this,!0)},prev:function(){return brother.call(this)},first:function(){return iQuery(this.result[0])},unbind:function(t){return iRemoveEvent(this,t),this},is:function(t){return/^\:visible$/.test(t)?this.each(function(t,e){return 0!=e.offsetHeight||0!=e.offsetWidth}):iElementsIs(this.result,t).length>0},appendTo:function(t){return iQuery(t).append(this.result),this},append:function(t){return iHtmlOrAppend(this.result,t,function(t,e){t.appendChild(e)},!0),this},parent:function(t,e){var i=[];return this.each(function(t,e,i,n,r,s){(s=n?iWithIn(r,e):e.parentNode)&&i.push(s)},i,isString(t),t),iQuery(i,n,e)},insert:function(t,e){var i=iQuery(t,n,0),r=i.parentNode;if(r&&this.length&&this.each(function(t,e,i){r.insertBefore(e,i)},i),e){var s=this[this.length-1],a=s.nextSibling;r.insertBefore(i,s||a),a||r.insertBefore(s,i)}return this},stop:function(t,e){for(var i,n=this.animateTasks;(i=n.shift())&&(i.run(0,e?"true":"false"),t););return this},attr:function(t,e){return iExecSimply(this,t,e,function(t,e,i){return iSetGetAttr(i,t,e)},each)},css:function(t,e){return iExecSimply(this,t,e,iCssGetSet,each)},find:function(t){var e=iQuery(t,this.result);return e.length=Array.prototype.unshift.apply(e.result,iElementsIs(this.result,t)),e},addClass:function(t){return this.each(function(t,e,i,n){n(e,i,!0)},t,iClass)},removeClass:function(t){return this.each(function(t,e,i,n){n(e,i)},t,iClass)},remove:function(){return iRemoveEvent(this,function(t,e){e.parentNode&&e.parentNode.removeChild(e)}),this},data:function(t,e){var i=this.each(function(t,e,i,r,s,a){var o=isSimplyData(i(e,r,s),r);return o===n||isString(o)?a.test(o)?JSON.parse(o):o:(each(o,function(t,e,i){i[t]=a.test(e)?JSON.parse(e):e},o={}),o)},iAttrs,t,e,/^(?:\[.*\]|{.*})$/);return this==i?n:i},animate:function(){var t=this.animateTasks,e=new AnimateTask({host:this,rank:this.result,config:iPicker(arguments,"0=>attributes,1.speed|1=>speed,1.easing=>easing,1.callback|2=>callback",{speed:F},!0)});return e.run(t.push(e)-1),this},trigger:function(t){return this.each(function(t,e,i){try{var n=iPicker(e,i)[i];if(function isTriggerOwnEvent(t,e){return/input|textarea|bottom/i.test(t.tagName)||/focus/.test(e)}(e,i)&&n)iRuner(n,e);else{var r=u.createEvent("Events");r.initEvent(i,!0,!0),e.dispatchEvent(r)}}catch(s){u.all&&e.fireEvent("on"+i)}},t)},each:function(){var t,e=iList2Array(arguments);return e.unshift(this.result),isNil(t=each.apply(this,e))?this:t}},Query.prototype.val=Query.prototype.html,Query.prototype.off=Query.prototype.unbind;var Nt=7.5625,Et=2.75,Pt={easeInBack:function(t){return 2.70158*t*t*t-1.70158*t*t},easeOutBounce:function(t){return t<1/Et?Nt*t*t:t<2/Et?Nt*(t-=1.5/Et)*t+.75:t<2.5/Et?Nt*(t-=2.25/Et)*t+.9375:Nt*(t-=2.625/Et)*t+.984375},easeOutElastic:function(t){var e=2*Math.PI/3;return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin((10*t-.75)*e)+1},easeOutBack:function(t){return 1+2.70158*Math.pow(t-1,3)+1.70158*Math.pow(t-1,2)},easeOutCirc:function easeOutCirc(t){return Math.sqrt(1-Math.pow(t-1,2))}};function iGetDataByLine(t,e,i){var r=e||{},s=iToCutByDot(t),a=s.pop();return a==$&&(s.push(a),a=n),!0===each(s,function(t,e,i,s){if(t=r[e],e==$){var a={};return each(r,function(t,e,i,r){r&&e[r]==n||(i[t]=r?e[r]:e)},a[s]={},s),r=a}if(!i&&isNil(t))return!0;r=isNil(t)?r[e]={}:r[e]},!1!==i||(i=n,!1),a)?n:i==n?r[a]:r[a]||(r[a]=i)}function iGetEventMark(t){var e=iAttr(t,P);return e||iAttr(t,P,e=++s),e}function iEvent(t){return function(e){return each(this.result,function(t,e,i,n,r,s,a){l&&(n=function iEEventTrigger(t,e){var i=iPicker(e,B);merge(i,e),iRuner(t,this,i)}.bind(e,n));var o=r.events;iGetDataByLine(s(e)+T+i,o,[]).push(n),iGetDataByLine("E."+i,r,[]).push(n),Tt.addEventListener(e,i,n),a(e,I,!0)},t,e,this,iGetEventMark,iClass),this}}AnimateTask.prototype.run=function(t,e){t>0||(merge(this.config,{count:0,speed:600,easing:Pt.easeOutBack}),each(this.rank,iRanks,this,e||this.immediately))},each(["hide","show"],function(t,e,i){i[e]||(i[e]=function(){return this.each(function(t,e,i){var n="hide"==i,r=iCss(e,"display"),s=iAttr(e,"o-display");iCss(e,{display:n?(!s&&iAttr(e,"o-display",r||R),"none"):s||"block"})},e)})},Query.prototype);var Rt=iPicker(global,"Reflect.defineProperty|Object.defineProperty=>Proxy").Proxy;function iListener(t,e,i,r){try{i.context&&each(iPicker(i,"get,set"),function(t,e){this[t]=this.first!=n?e.bind(this.context,this.first):e.bind(this.context)},i),Rt(t,e,i)}catch(s){t[e]=iRuner([i.get,function(){return this.value}.bind(i)],r)}}var Tt={};each({addEventListener:["addEventListener","attachEvent"],removeEventListener:["removeEventListener","detachEvent"]},function(t,e,i,n,r){var s=+!i[t];n[t]=function(t,i,n,a){t[e[s]](r[s]+i,n,a)}},global,Tt,[R,"on"]),each(["resize","click","focus","blur","change","scroll","load","hashchange","error","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","keydown","keypress","keyup","touchcancel","touchend","touchmove","touchstart","animationend","animationiteration","animationstart"],function(t,e,i){iListener(i,e,{get:function(){return iEvent(e)}})},Query.prototype);var $t=iQuery(c);$t.css({height:"100%"});var Ct=/\s*([^=&#?]+)=(?:("|')((?:(?!\2).)*)\2|([^=&]*))/g;function iString2KeyValue(t,e,i){var n={};return each(t.match(Ct),function(t,e,n,r,s){r._test(e)&&(t=ct.$1,isNil(e=ct.$3||ct.$4)||(n[t]=e,iRuner(s,i,t,e)))},n,Ct,e),n}function $pickWidthHeight(t){return(t||$t).attr("offsetHeight=>height,offsetWidth=>width")}var At=$pickWidthHeight(),Bt=$t.css("overflow");function Dialog(t){merge(this,t,{id:r++,link:n,offset:{},offsets:{},_close_:[],_resize_:[]},"mix"),j[this.id]=this,V.push(this),t.root.attr({id:this.id}),this.bind(),iRuner(this.init,this),this.events={click:{}},this.isOwnSetting=iRuner(this.callback,j,this.id,this)}function iCenter(t,e,i,n){var r,s=!n&&i.isOwnSetting?{}:Y.trigger(e,$pickWidthHeight(t),At);return isEmpty(r=i.margins)||(s.top&&(s.top-=(r.top+r.bottom)/2),s.left&&(s.left-=(r.left+r.right)/2)),s.zIndex=10,s.position=N,n?t.stop(!0,!0).animate(s,{speed:600,easing:Pt.easeOutCirc}):t.css(s),At}function $resize(t,e){iRuner(t._resize_,t,e)||iRepainting(t)}function iRepainting(t,e){var i=iCenter(t.room,t.position,t,e);i.left=i.top=0,t.bg.css(i)}Dialog.prototype={onresize:function(t){return this._resize_.push(t),this},onclose:function(t){return this._close_.push(t),this},remove:function(t){var e=this,i=isDigital(t);return iLazyRun(function(){e.link instanceof Dialog&&e.link.remove(),iCurrent(i?e:t||e)},i?1e3*t:n),this},resize:function(t){var e=this;return iLazyRun(function(){$resize(e,t)},t),e},glass:function(t){this.root.attr("is-blur",+t),o+=t>>0,$t[t?"addClass":"removeClass"]("blur")},addClass:function(t){return this.root.addClass(t),this},removeClass:function(t){return this.root.removeClass(t),this},timer:function(){if(+this.timeout){var t=this;t.times=setTimeout(function(){t.timeout=!0,t.remove()},1e3*this.timeout)}},cleartime:function(){return clearTimeout(this.times),this},push:function(t,e,i){return iGetDataByLine(t+T+e,this.events,[]).push(i),this},click:function(t,e){return this.push("click",t,e),this},proxy:function(t,e){var i=s++;if(isString(t)){var n=[];each(iPicker(this,t),function(t,e,i){e instanceof Query?i.push.apply(i,e.result):e.push(e)},n),t=iQuery(n)}return t instanceof Query?t.attr(It,i):iAttr(t,It,i),this.onclose(function(t){this.events.click[t]=null}.bind(this,i)),this.click(i,e)},destroy:function(){var t=this;t.cleartime();var e={easing:Pt.easeInBack};t.bg.stop(!0,!0).animate({opacity:.1},e),(e={css:{opacity:.5},speed:e}).css[iTakeMovePositionName(this.position)]="-=25px",merge(e,t.destroyConfig,!0),t.room.stop(!0,!0).animate(e.css,e.speed,function(){iRuner(t._close_,t),a--,t.root.remove(),delete j[t.id],a<=0&&$t.css({overflow:Bt}),+t.root.attr("is-blur")&&(!--o&&t.glass()),each(t,function(t){this[t]=null},t)})},bind:function(){this.root.find("[data-bind]").each(function(t,e,i,n,r){iListener(i,r=iAttr(e,n),{first:{v:e,key:"@"+r},context:i,get:function(t){return this[t.key]||(this[t.key]=iQuery(t.v,this.root))}},i),iAttr(e,n,null)},this,"data-bind")},runer:iRuner};var Lt=selector2Html('div.windows>div.content[data-bind="room"]+div.bg[data-bind="bg"]'),Dt=selector2Html("div.confirm>div.confirm-title{标题}+div.confirm-content{内容}+span.confirm-cancel{取消}+span.confirm-submit{确定}+span.confirm-cancel.close{×}"),Ft=selector2Html("span.close{×}");String.prototype.buildHtml=function(){return tt.rPar.test(this)?giveUHtmlBySelector(this):selector2Html(this)};var It="e-dialog-handle";function isNode(t){return!isString(t=isQueryGetTheFrist(t))&&t&&1==t.nodeType}function isQueryGetTheFrist(t){return function isQuery(t){return t instanceof Query}(t)?t[0]:t}function iDialogTriggerInit(){var t={position:N,top:0,left:0,zIndex:1e5};this.room.html(this.context),delete this.context,$t.append(this.root).css({overflow:"hidden"}),a++,this.root.css(t).click(function(t){var e=function iFindEventParent(t){for(var e,i={};t;){if(e=iAttr(t,It)){i.name=e,i.target=t;break}t=t.parentNode}return i}(iPicker(t,B).target);iRuner(this.events.click[e.name],e.target,t,this)}.bind(this)).removeClass(I)}function iDialog(t,e,i,r,s){var a=iPicker(t,"data,mode=>M,events,watch,components|slot=>slot,init,link,clazz|cls|selector=>selector,_share__");!isEmpty(a)&&a.M&&(t=a=Wt(a.M,a)),t&&t.finger==Mt&&(t=t.node);var o=isNode(r)?{target:r}:iPicker(r,"slow,position,target");merge(o,s),isEmpty(o)||(r=o.target);var u=isNode(r),c=new Dialog({timeout:i,context:t,callback:e,root:iQuery(Lt),init:iDialogTriggerInit,position:u?n:r});c.render=a;var h=c.room;u&&(h.addClass("windows-freely").append(tt.toHtml('.i-mark[data-bind="iMark"]')),c.bind());var f=o.slow;if(+f&&h.hide(),u){var p={index:1,room:h,target:isQueryGetTheFrist(r),position:o.position,iMark:c.iMark};c.onresize(function(t){var e=iPicker(t,"exec,state|center=>center");return this._to_center__||!0===e.center?(iRepainting(this,this._to_center__=!0),iRuner(e.exec,this,this),!0):(this.bg.css(At),function iResize(t){var e,i=t.target,r=iRuner(iPicker(i,"getBoundingClientRect|rect=>rect").rect,i),s=t.room,a=t.index,o=t.position,u=t.iMark,c=t.offset||t.iMarkHeight||(t.iMarkHeight=u.attr(H)/2),h="3,1,2,0".split(g),l=s.attr(H),f=s.attr(z)+c,p=(r.height==n?r.bottom-r.top:r.height)>>0,d=(r.width==n?r.right-r.left:r.width)>>0,m=At.width-f-c,v=At.height-l-c,y=[r.left-f,r.top-l,m-r.right,v-r.bottom];s.state=y,isNil(o)||(each(o.split(g),function(t,e,i,n){n.push(i[e])},Ht,e=[]),h.unshift.apply(h,e));var k={},b={};if(isNil(a=each(h,function(t,e,i){if(i[e]>0)return e},y)))b.display="none",iCenter(s,Y.CENTER,t);else{var S=0==a||2==a,x=3==a||1==a;k.left=x?Math.min(r.left,m):2==a?r.right+c:y[0];var w=Math.max(r.top,0),_=Math.min(r.bottom,At.height),N=(_-l+Math.min(At.height-l,w))/2,E=Math.max(S?N:3==a?r.top+p+c:Math.min(N,y[1]-c),0);if(b.display=b.left=b.top=R,S){var P=(Math.min(E+l,_)+Math.max(E,w))/2-E;b.top=P+(u.css("border-width","number")+c)/2}x&&r.left>m&&(b.left=r.left-k.left-c+d/2),k.top=E,s.removeClass(zt[t.index]).addClass(zt[a]),t.index=a,u.show()}u.css(b),s.css(k)}(p),!0)}),iLazyRun(function(){h.show(),c.resize(function(){this.room.stop(!0,!0).css({top:"-=10"}).animate({top:"+=10"})})},f)}else O.auto.mix.animate(c,!c.isOwnSetting);return iLazyRun(function(){c.timer()},f),l&&iQuery("body").append(c.root),c}var zt=["i-s-left",R,"i-s-right","i-s-bottom"],Ht={left:0,top:1,right:2,bottom:3};function iLazyRun(t,e){return+e?setTimeout(t,e):iRuner(t,n,e)}function iCurrent(t){var e;if(t){for(var i=a;i--;)if(V[i]===t){V.splice(i,1),e=t;break}}else e=V.pop();if(e){var r;if((r=iPicker(e,"model|isModal|ismodal|modalclose=>mod").mod)&&iRuner(r,n,e)!==n)return V.push(e);e.destroy()}}function iUserWindowResize(t){iLazyRun(function(){for(var t in At=$pickWidthHeight(),j)$resize(j[t])},+t||10)}function isDigital(t){return/^\d+(.\d+)?$/.test(t)}function iQuery(t,e,i){isDigital(e)&&(i=e,e=n);var r=new Query(t,e,!1!==i&&n);return isDigital(i)?r.result[i]:!0===i?r.result:r}function iHtml(t,e){var i={};return i.result=isArray(t)?t:[t],iPackHtml.call(i,e)}function iWithIn(t,e){return iElementsIs(isQueryGetTheFrist(e),t,!0).pop()}function iDiffer(t,e,i,n){var r={};merge(r,t,e,"mix"),each(r,function(t,e,i,n,r){iRuner(n,r,t,t in this,this[t])},t,i,n)}function iToCutByDot(t,e){return t.split(e||T)}iQuery(window).resize(iUserWindowResize).keydown(function(t){27===t.keyCode&&iCurrent()});var Mt="T-{0-99}-{100-999}-T".format(),Wt=function(){var t=["createElement","createTextNode"],e="_el";function iNode(e,i){var n=/^(?:\s?|true|1|text)$/.test(e);return/svg|path/.test(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document[t[+n]](n?i||R:e||"div")}function Node(t,e){isNaN(+t)&&(e=t,t=n),t||(t=9);var i=3==t,r=isArray(e)?e.join(R):e,s=i?r:R,a={finger:Mt,nodeType:t,name:null,start:0,state:0,task:{},data:{},_if:{},_end:[]};return i&&(a.value=s),iListener(a,"nodeName",{set:function(t){var e,r=t;isArray(r)&&(r=r.join(R),t.length=0);var s=r?r.split(A):[r];i||(e=this.source=s[0]);var a=s.pop();this.slot=/^[A-Z]/.test(e),this.name=i?"#text":a,this.isSimplyBlock=/^style$/i.test(this.name),this.node=iNode(this.slot&&e==a?n:a,this.value),this.isEmptyElement=l.test(e)},get:function(){return this.name}}),/^(?:[\s\r\n]*)$/.test(r)&&(a.state=-1),a.append=function(t){this.node&&1==this.node.nodeType&&-1!=t.state&&(this.children.push(t),this.node.appendChild(t.node))},a.find=function(t,e){return Parent(this,"?.?".on(t,e))},a.complete=function(t){var e=Scope(this);if(e.completed)return iRuner(t,this,e);e._end.push(t)},/1|9/.test(t)&&(a.children=[],a.props=[],a.attrs={}),a.nodeName=i?R:e,i&&e&&(e.length=0),a}var i={"<":{type:1,offset:1,un:/[^\w\/]/,next:"/",state:1},"/":{state:3,offset:1,check:/>/,next:">",short:!0},"\\":{state:0},"{":{type:7,left:!0},"}":{offset:-1,check:/(?:\?|.)/},">":{state:3,offset:-1}},r="reverse";function Parent(t,e){var i=0;e?e+="=>val":(e="parent",i++);for(var r=t;r&&(i?r[e]!=n:iPicker(r,e).val===n);)r=r.host||r.parent;return r}function ScopeTask(t,e){return Scope(t,e,"task").task}function Scope(t,e,i){var n,r=Parent(t,"scope"+(e?".?".on(e):R));return i?(n={scope:r},each(iPicker(r,TextFormat(i,e)),function(t,e,i,n){this[t]=isSimplyType(e)?e:e[n]},n,e),n):r}function isPrivateProperty(t){return/^\$(idx|item(?:\..*|))$/.test(t)}function hasDot(t){return t.indexOf(T)>=0}function iEvaluate(t,e,i){t&&each(isArray(t)?t:[t],function(t,e){this.has&&(e=iPicker(e,this.first||(this.first=iToCutByDot(this.name),this.name=this.first.pop(),this.first))||this.def);e[this.name]=i},{name:e,val:i,has:hasDot(e),first:n,def:{}})}function iSlot(t){if(t.slot){var e="config.slot."+t.source,i=iPicker(Parent(t,e),e)[e];if(i){var r=iPicker(i,"config.*=>*");i=render(i.source,r,t.name),each(t.attrs,function(e,i,r,s){var a;if(!(e in s.data)||c.test(i.value)&&(s._slot=this))return iTriggerBuild(s,i.source),n;if(i=i.value,/^on\.?(\w+)$/._test(e))a=ct.$1,own=iPicker(t.find("task",i),"parent,scope,task.?=>task.?.*".on(i)),own.node=s.node,d.on.call(own,n,a,i);else{if(r=Scope(this,i),(a=function(t,e){this.data[t]=e}.bind(s,e))(r?iPicker(r.scope,i)[i]:i),!r)return;var o=i.replace(/\./g,"._task."),u=iPicker(r.task,o)[o];u&&u.set&&u.set.push(a),(s.bind||(s.bind={}))[e]={task:r.task[i],trigger:a},s.task[e].set.push(function(t){iEvaluate([this._.data,this._.scope],this.name,t),this.task.data=t}.bind({_:r,name:i,task:u}))}},t,i),t.complete(function(t){var e=iPicker(this,"_if.elements=>e").e;e&&(e[0]=t.node),iRuner(t.config.init,t.data,this,t.node)}.bind(t,i)),t=i}}return t}var s="task";function _WatchByConfig(t,e){var i,a=e.context||Parent(t),o=a.data||(a.data={}),u=e.name||e.property,c=e.property&&e.property.replace(e.name,R)!=e.property,h=u;if(u){var l=isPrivateProperty(u),f=function isInput(t){return/^(input|textarea)$/i.test(t.nodeName)}(t.node);if(i=hasDot(u)){var p=iToCutByDot(u);u=p.shift(),l&&(u=p.join(R),i=!1),e.name=p.join(T)||u}var d,m=Parent(t,"for"),g=a._defaultData&&u in a._defaultData,v=e.proxy;if(g||l||m||v?d=a.task[u]||e.task:(d=ScopeTask(e.parent||a,u)||a.task[u],l=!0),/^(?:[a-z$_])+[\.\w]*$/i.test(u)&&(l||(g||v)&&!m)){if(isEmpty(d)&&(d=a.task[u]={}),merge(d,{data:null,get:[],set:[]},iPicker(e,r),"mix"),i)return function _Listen2TheLineString(t,e,i,n,r,a,o){var u=e.name,c={},h=r._task||(r._task={}),l={},f=iToCutByDot(u).shift();c[f]=null,r.data||(r.data={});var p=h[f]||(h[f]={data:r.data[f]});n&&(r.index=s);var d=r[s]||(r[s]={});merge(l,{context:{task:h,_defaultData:c,data:d}},e,"mix");var m=Scope(t,a);m&&(o in m.task||(m.task[o]=p)),r.name&&(l.name=o.replace(/\.[^\.]+$/,R)),Watch(i,l),f in d||iListener(d,f,{context:p,get:function(){return this[s]}}),hasDot(e.name)&&p.set.push(function(t,e){iEvaluate(this.data,this.args.name,t)}.bind({element:i.node,args:e,data:r.data}))}(a,e,t,c,d,u,h);if(f&&"value"==e.property&&iQuery(t.node).on("input",function(t,e){iEvaluate(t,e,this.value)}.bind(t.node,o,u)),each(iPicker(e,"get,set"),function(t,e,i,n,r){r.count=i[t].push(e.bind(n,r.property,r))},d,t.node,e),d.data==n||!e.mulitNameWatch&&e.mulitNameWatch!==n||iRuner(d.set[e.count-1],n,d.data),!(u in o))return d.name||(d.name=u),{data:o,name:u,task:d,proxy:v,source:h}}}}function Watch(t,e){var i=_WatchByConfig(t,e);if(i){var r=i.name;iListener(i.data,r,{enumerable:!i.proxy,context:{host:t,name:e.line||i.source,task:i.task},first:function(t){if(t.cache)return t.cache;var e=Scope(t.host,t.name,"task,scope=>xxl");return e.task||(e.task=t.task),e.scope===n&&(e.scope=t.host),e.own=e.xxl!==n||t.host.find("task",t.name),t.cache=e},set:function(t,e){var i=t(this),r=i.task,s=i.scope,a=r.data;if(!r._lock__){r._lock__=!0,e==a||iRuner(r.watch,n,e,a);var o=isPrivateProperty(r.name);(o||i.own)&&(r.data=e),o||s.scope&&!s.data._freeze__&&(s.scope[r.name]=e),iRuner(r.set,s,e,a),delete r._lock__}},get:function(t){var e,i=t(this).task;return iRuner(i.get,n,i)||(isSimplyType(e=i.data)?e:i.index!=n?i[i.index]:e)}})}}function iFormatClassName(t){return t.replace(/\./g,tt.WHITE)}var a=/class|(style)|(if)/,o=/(["'])(?:(?!\1).)*\1/g,u=/(?:(?!"|')[$\w\.])+/g,c=/^(.*)(?:\$?\w+\[\w+\]|((?:\?|>|<|=|\!|\+|\*|\/|(?:\&|\|){2})=?)|\s+in\s+)(.*)|.*\(.*\)$/,h=/^\s*([\w-]+)\:/i,l=/^(?:area|base|br|col|colgroup|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/,f={};function iGetDateByRelateKeys(t,e){return each(t.scope,function(t,e){this[t]=iPicker(e.scope,"data|"+e.name+".data=>data").data},e||(e=[])),t.trigger.apply(n,e)}function _PublicBindUseBySet(t,e,i){var n=e.own,r=e.dynamic;i=/\.length/.test(r.keys)?isArray(i)?!i.length:!i:iGetDateByRelateKeys(r);var s=r.set,a=n.node,o=r.last,u=iPicker(e,"property|name=>trigger");merge(e,u),o&&o!=i&&!r.isif&&e&&(u.reverse=!0,iRuner(s,a,r.isprop?o:t,u,o)),r.last=i,iRuner(s,a,r.isprop?i:t,e,i)}var p=/^(var|let|const|in|while|for|of|this|true|false|undefined|\d+|.*\.test.*|\..+|\s*|\$\d+|[Nn]il)$/;function _PublicBindUseByRelateForEach(t,e,i,n,r,s){if(!p.test(e)){var a=iToCutByDot(e).shift(),o=function GiveUTask(t,e){return isPrivateProperty(e)?t.task[e]:ScopeTask(t,e)||ScopeTask(t._slot,e)}(i=this.relate,a);a in r||(r[a]=!0,n.push(a),this.scope.push({name:a,scope:o}),this.keys.push((this.k||a)+A+e),(s=i._slot)&&(o.set.push(function(){this.relate.data[this.k]=iGetDateByRelateKeys(this)}.bind(this)),s.complete(function(t){this.data[t.name]=t.data}.bind(Parent(s),o))))}}function _PublicBindUseByListenForEach(t,e,i,n,s,o,u){var c=iPicker(e.split(/\s*:\s*/),"0=>property,1|0=>name",!0);n.change?(merge(c,o,{own:i,dynamic:u,parent:i.parent,mulitNameWatch:s==t},iPicker(n,r),"mix"),Watch(i,c)):iRuner(function(t,e,i,n){a._test(t)&&(e=(i=ct.$1?i.split(/:/):[i,!0])[0],i=i[1]),n.set.call(this,e,c,i)},i.node,n.property,t,e,o)}function PublicBind(t,e,i){var r=iPicker(arguments,"3.set|3=>set,3.get|4=>get");if(!t.change){if(!t.property)return iRuner(r.set,this.node,e,n,i);e=0}var s=a._test(t.property),l=ct.$1,p=ct.$2;if(c.test(i)){l&&!e&&h._test(i)&&(e=ct.$1,i=i.replace(h,R));var d,m=i.replace(o,R).match(u),g={relate:this,isif:p,istyle:l,isprop:s,scope:[],keys:[],k:e,args:{}};merge(g,r),r={set:_PublicBindUseBySet},each(m,_PublicBindUseByRelateForEach,g,d=[],{}),g.trigger=f[i]||(f[i]=Function("{0}/*Arguments in Nodes's Task!*/".format([d.join(",")]),'var Nil,nil,$1,$2;try {return {exp}}catch(e){console.error(e.message + "{rn}{rn}\\t-\\t{expstring}{rn}🅔🅝🅓");return ""}'.format({exp:i,rn:"\\r\\n",expstring:i.replace(/"/g,'\\"')}))),i=g.keys}else i=t.change&&e?[e+A+i]:i.split([/;/,/\s+|;/][+!l]);each(i,_PublicBindUseByListenForEach,this,t,i.length-1,r,g)}var d={on:function(t,e,i){var r=iPicker(Scope(this).task,i+".event=>ev").ev;r!==n&&iQuery(this.node).on(e,function(t){!1===iRuner(r,this,t)&&iRuner(iPicker(t,"stopPropagation=>e").e,t)})},"class":function(t){t(function(t,e,i){if(t==n&&(t=!1),/true|false/.test(t))return iClass(this,iFormatClassName(e.trigger),t);iClass(this,iFormatClassName(t),e&&e.reverse?!i:i)})},style:function(t){t(function(t,e,i){iCss(this,e.property||t,i)})},_attr_:function(t){t(function(t,e,i){iAttr(this,t,i)},function(t,e,i){return"value"===t&&/^(input|textarea)$/i.test(this.nodeName)&&this.value!=i.data?this.value:n})},"if":function(t){this.complete(function(){this(function(t,e,i){var n=e.own._if,r=e.empty||(n.elements=e.empty=[this,iNode(R)]);e.reverse&&(i=!i),n.idx=+!i,_t(r[+!!i],r[+!i])})}.bind(t))},"for":function(t){this.complete(function(t){var i,r=Parent(this),s=Parent(this.parent||this,"for|scope."+t)||r,a=r.source.substring(this.start,this.end).replace(/\s?for=(?:("|')((?:(?!\1).)*)\1|([^=&\s>]*))/,R),o=iNode(R),u=Scope(this)||s;(i=s.task[t])||s["for"]||(s=u,i=u.task[t]={name:t}),i&&Watch(s,{name:t,set:function _ForUseBySet(t,i,r){var s,a,o=this.host,u=ScopeTask(o,i.name)||{},c=this.root,h=this.link,l=this.source,f=this.scope,p=u.index=this.finger,d=this.iSpace;isArray(r)||(r=[]);var m=Scope(this,"_share__","task.?.data=>data").data;if(m=m==n||m,a=u[p]){!0===h.N&&(m=!1);var g=a.length,v=r,y=v.length,k={length:g};if(each(a,function(t,i,r,s,a,u){if(u=i[e],m&&s[t]!=n)o.SPACE&&(_t(o.SPACE,u),delete o.SPACE),this[t]=s[t];else{var c=!m||t>=0?(a.length--,d):o.SPACE||(o.SPACE=iNode(R));_t(u,c)}},a,v,k),a.length=k.length,k.length-y>=0)return;s=k.length}u[p]=a||(a=[]),a.name||each({name:i.name,source:l,proxy:c,scope:f,host:o,task:u,push:_ForUseByPush,remove:function(t,e){if(t!==n){t=t.$idx===n?t:t.$idx,e||(e=1),iRuner(this.task.watch,n,this[t],t,-1),this.removing=!0;for(var i=t,r=this.length;i<r;i++)this[i]=this[i+e];for(this.task.data.length-=e;--e>=0;)this.pop();delete this.removing,iRuner(this.task.set,n,this)}},unshift:function(){var t=iList2Array(arguments);t.push(-1),this.push.apply(this,t)}},function(t,e){iListener(a,t,{enumerable:!1,value:e})}),a.push(r,!0,s>>0)}.bind({host:this,iSpace:o,root:s,scope:u,source:a,finger:"Finger{1-1000000}".format(),link:iPicker(u.config,"link").link||{index:0}})}),_t(this.node,o),this.node=o}.bind(this,iPicker(arguments,"2|1=>name").name))}};function _ForUseByPush(){var t=iList2Array(arguments),i=this.proxy,r=t.pop(),s=0,a=-1==r;if(a)r=s=this.length;else{!isNil(r)&&isNaN(+r)&&(t.push(r),s=r=this.length);var o=t.pop();!0===o?t=t.pop():(t.push(o),s=r)}if(each(t,function(t,a){if(!((t=s+t)<r)){var o,u,c,h=this,l=h.scope,f=h.host,p=h.task;if(iRuner(p.watch,n,a,t,1),o=iPicker(h[t],e)[e])return null===a&&_t(o,R),h[t]=a,n;(u=p.data||(p.data=[])).length||iRuner(p.set,n,!0),u[t]=a;var d={mix:{$idx:t,$item:a},$scope:l};merge(c={data:a,link:{name:h.name,index:t,N:!0}},l.config),c.parent=f.parent;var m=render(h.source,c);c.link.N=!1,function iSetListenerByMap(t,e){each(t,function(t,e){Watch(this,{name:t}),this.data[t]=e},e)}(d.mix,m),iListener(h,t,{context:{bind:m,host:h,idx:t,task:l.task[h.name]},configurable:!0,first:d,set:function(t,i){var r=this.bind;i===n&&(_t(r.data[e],R),r.scope=r.data.$item={}),i||(i={});var s=t.$scope.scope,a=r.scope,o=this.task,u=this.idx;each(o,function(t,e,i,n,o){/Finger/.test(t)&&(iDiffer(n,a,function(t,e,i){/^[$_].*/.test(t)||i===this.data[t]||(this.data[t]=e?i:this.scope[t]||null)},{data:e[i],scope:s}),merge(r.data,o,!0))},u,i,t.mix),!this.host.removing&&o&&iRuner(o.watch,n,i,u,0)},get:function(){return this.bind.data}});var g=each(m.children,function(t,e,i){if(e.nodeType==i)return e},f.nodeType)||m;e in m.data&&delete m.data[e],iListener(m.data,e,{context:g,get:function(){var t=this._if;return t.idx!=n?t.elements[t.idx]:this.node}}),m.data._target=function(){return this[e]},m.data._=i.data,m.data.remove=function(){h.remove(this.$idx)},each(i.data,function(t,e,i,n){Watch(this,{context:this,proxy:n,name:t,task:n.task[t]})},m,i),m.node=g.node,iQuery(g.node).insert(f.node)}},this),t.length||iRuner(this.task.watch,n,t),a){var u=(t=iPicker(t,"_,*")).length;between(-1,s,function(t,e,i){items[t+u]=items[t].$item},!0),each(t,function(t,e){this[t]=e},items)}}var m=[/=/,/(?:[\s\r\n]|\/|>)/],g=/(?:\s|[\r\n])*((?:[\:!@\*]|v-))?(class|style|on|if|for)?\.?([\*\w-\.]+)?=(?:("|')((?:(?!\\?\4(?:\s+(?:\:?\s*\w+=["']\w+["']|))).)*)\4|([^=&\s]*))+[\r\n\s]*/g,v={};function iTriggerBuild(t,e,i){if(g.lastIndex=0,g._test(e)){var n=ct.$1,r=ct.$2,s=ct.$3,a=ct.$5||ct.$6;"for"==r&&(t["for"]=!0),d[r||"_attr_"].call(t,PublicBind.bind(t,{property:r,change:!!n},s,a),s,a),iRuner(i,t,n,s,a,r)}}function render(t,r,s,a){var o=Node(s);t=function iConfigs(t,e,i){if(!+i){e=(e=e.replace(/<!--((?!-->)[\w\W])+-->/g,R)).buildHtml(),merge(i,{data:{}}),t.config=iPicker(i,"events,init,data,watch,link,components|slot=>slot");var n=iPicker(i,"events=>event,data,watch");n.data instanceof Function&&(n.data=n.data()),each(n,function(e,i){each(i,function(e,i,n,r){(this[e]||(this[e]={}))[r]=i instanceof Function?i.bind(t.data):i},t.task,e)},t),t.scope=n.data,t.host=i.parent,each(t.scope,function(t,e,i,n){this[t]=null,n.push(t+".data=>"+t)},t._defaultData={},t._pickermode=[]),each(iPicker(t.config,"link.index=>$idx"),function(t,e){this[t]||(this[t]={data:e})},t.task),t._pickermode=t._pickermode.join(","),iListener(t,"value",{get:function(){return iPicker(this.task,this._pickermode)},set:function(t){merge(this.data,t,!0)}}),t.source=e}return e}(o,t,r),o.parent=a,o.start=r>>0;var u,c,h,l,f,p,d,y,k,b,S=o.start,x=t.length,w=!0,_=[],N=(a||o).state,E=!0,P={'"':0,"'":0,block:0};a=1!=o.nodeType&&a&&1==a.nodeType?a:o;for(;S<x;S++){if(u=t[S],o.state=N,N>1&&u in P&&"\\"!=t[S-1]){var $=P[u]%2;m[$].test(t[S+2*$-1])&&(P.current=u,P[u]+=1),P.current==u&&(d=P[u])}if(l=i[u]||v,"\\"==u)u=t[++S];else if(/(?:(<)|(\/|>)|([\s\r\n])|(\{|\}))/._test(u)){var C=ct.$2,A=ct.$3,B=ct.$4,L=a.isSimplyBlock;if(P.block%2&&A)continue;if(b&&"}"!=B);else if(B&&2!=N){if(!L){var D=!l.left,F=Node(3,D?n:_);if(F.parent=a,b=!D,P.block++,D){var I=_.join(R);_.length=0,PublicBind.call(F,{change:!0},n,I,{set:function(t,e,i){this.nodeValue=isSimplyType(i)?i:iPicker(i,t+"=>data").data}})}a.append(F);continue}}else if(!(C&&0==N||(y=A)&&(N<=0||2==N)||(c=t[l.offset+S],c==l.next&&!N&&!a.state||l.un&&l.un.test(c))||d%2)){if(N=((f=(N>=1&&y||(k=C))&&w&&!L&&p)?1:l.state)||N,f&&(1==o.nodeType&&(o.nodeName=_,w=!1,E=!1,N=2,p=0),!k))continue;if(C&&2==N&&(N+=2),3==N)each(_.join(R).match(g),function(t,e){iTriggerBuild(o,e,function(t,i,n,r){var s=r+(r&&i?T:R)+i;this.props.push([s,n]),this.attrs[s]={source:e,change:t,key:i,value:n}})}),p=0;if(p&&(a.append(Node(3,_)),p=0),(l.check||/\//).test(t[S+(l.offset>>0)])||o.isEmptyElement){S+=(c=x>S&&t[S+1]==l.next)?l.short?1:(a.source||R).length+1+l.offset:0;break}if(!L){if(a.state=N,h=render(t,++S,l.type||3,a),N=0,S=h.end-1,3==(h=iSlot(h)).nodeType)break;a.append(h);continue}}}p=_.push(u)}return E&&_.length&&a.append(Node(3,_)),o.start&&(o.start-=1),o.end=S+1,o.state=5,o.parent||(each(o.scope,function(t){t in this||Watch(o,{name:t})},o.data),iListener(o.data,e,{context:o,configurable:!0,get:function(){return this.node}}),r.selector&&iQuery(o.node).addClass(r.selector),iRuner(iPicker(o,"_end|end=>end").end,o,r),o.completed=!0),o}return render}();function TextFormat(t,e){var i=/\?/;if(i.test(t)){isArray(e)||(e=iList2Array(arguments)).shift(),isString(e)&&(e=e.split(p));for(var n,r=0,s=t.match(/\?/g).length;r<s;r++)t=t.replace(i,n=isNil(e[r])?n:e[r])}return t}String.prototype.on=iStringFormat;var Qt={_:Query,is:function iElementIs(t,e){return iElementsIs(e,t).length?e:n},render:Wt,css:iCss,each:each,attr:iAttr,html:iHtml,merge:merge,kv2url:function iMap2Url(t){var e;return each(t,function(t,e){this.push(t+"="+encodeURIComponent(e))},e=[]),e.join("&")},url2kv:iString2KeyValue,attrs:iAttrs,show:iDialog,list:j,runer:iRuner,picker:iPicker,showBox:iDialog,between:between,isString:isString,isEmpty:isEmpty,getline:pickVarLine,iGetDataByLine:iGetDataByLine,resize:iUserWindowResize,selector2Html:selector2Html,giveUHtmlBySelector:giveUHtmlBySelector,format:iStringFormat,confirm:function(t,e,i,n){return this.auto(Dt,function(n,r){r.glass(!0);var s=r.room;s.find(".confirm-title").html(t),s.addClass("dialog-confirm").find(".confirm-content").html(e),r.proxy(s.find(".confirm-cancel"),function(){return r.remove(),!1}),r.proxy(s.find(".confirm-submit"),function(t){return iRuner(i,r.root,Qt,r,t)&&r.remove(),!1})},n)},notice:function(t,e,i,n,r){var s=this.tips(t,e,i,n);return s.addClass(r||"notice"),s},error:function(t,e,i,n){return this.notice(t,e,i,n,"error")},tips:function(t,e,i,n){var r=isNode(t);!r&&e>7&&(t+=Ft);var s=iPicker(i,"position,target,slow");return isEmpty(s)&&merge(s,{target:i}),iDialog(r?t:giveUHtmlBySelector(t),function(t,i){i.root.addClass("dialog-tips"),iRuner(n,i),i.proxy(i.root.find(".content .close"+(e>7?R:",.bg")),function(){i.remove()})},e,s.target||Qt.tips_position,s)},auto:function(t,e,i){var r;!isFunction(e)&&isNil(i)&&(e=(i=e)&&i.callback),isString(i)?(r=i,i={}):(i||(i={}),r=i.cs),r||(r="inner: 0 0 0 0 .confirm-content 60;");var s=!1===i.center||x.test(r)||i.free,a=iDialog(t,function(t,n){return n.runer(i.init,n,t),n.runer(e,this,t,n),n.bind(),n.runer([i.last,i.end],n,t),n.onresize(resize),n.isFree=s,!0},n,i.position);a.destroyConfig=i.destroy;var o=function iDialogAutoRules(t,e){return!e&&(e=[]),each(t,function(t,e,i,r,s,a,o,u){(u=(s=e.split(d))[0])&&(o=(s[1]||R).split(/\s+/)).length>=1&&(i[t]={name:u,value:o,sort:r[u]==n?ft:r[u]})},e,lt),e}(r.split(p));isArray(o)&&o.sort(function(t,e){return t.sort-e.sort}),i.destroy&&isNil(i.center)&&!/center/.test(i.position)&&(i.center=!1);var u=a.room.hide();if(iLazyRun(function(){u.show(),resize.call(a,!0),iRuner(i.end||function(){O.auto.mix.animate(this,!0)},a)},i.slow),i.scroll){var c=each(o,function(t,e){if("inner"==e.name)return e.value[5]}),h=a.room.find(c);(h.length?h:a.room).scroll(function(){iLazyRun(i.scroll,60)})}function resize(t){this.is1st=!!t;each(o,function(t,e,i,n,r){e.value[0]instanceof Dialog||e.value.unshift(r),i[e.name]&&i[e.name].apply(n,e.value)},O.auto.mix,{},this),iRepainting(this,!this.isFree)}return a},push:function(t,e,i){return(O[t]||(O[t]={mix:{}})).mix[e]=i,this},remove:function(t){isString(t)?iQuery(t).each(function(t,e){var i=iAttr(e,"id"),n=j[i];n&&n.remove()}).remove():iCurrent(t)},screen:function(){return At},clazz:iClass,addClass:function(t,e){iClass(t,e,!0)},removeClass:function(t,e){iClass(t,e)},within:iWithIn,query:iQuery,Query:iQuery,createElement:function(t){return iQuery(t,!mt.test(t)||n)},destroy:function(t){iRuner(iPicker(t,"remove").remove,t)},get:function(t){var e={};if(!isNode(t))return e;var i=isQueryGetTheFrist(t);return j[this.within(".windows",i).id]||e},current:function(){return V[V.length-1]},mix:function(){var t=K.call(arguments);t.push("mix"),merge.apply(n,t)},exec:function(t,e){var i=pickVarLine(e,t),r=iRuner(i.parent[i.head],i.parent);return r===n?i.data:r},differ:iDiffer},Gt="1=>left,2=>top,3=>right,4=>bottom";function iGetConfigByArgs(t,e,i,n){return isEmpty(t[e])&&(t[e]=iPicker(i,Gt,F,function(t,e){if(!isNumber(e))return n})),t[e]}function isNumber(t){return!isNaN(+t)}function iPaddings(t){return t.paddings||(t.paddings=t.css(M,F))}Qt.push("auto","offset",function(t,e,i,n,r){t.isFree=!0;var s,a=t.room,o=iPaddings(a),u=iGetConfigByArgs(t,"offsets",arguments,null),c=null===u.left,h=null===u.right,l=null===u.top,f=null===u.bottom;each(u,function(t,e){this[t]=e},this),(c||l||h||f)&&(a.css({width:null,height:null}),s=a.css("width,height",F));var p=At.width-(e>>0)-(n>>0)-o.l-o.r,d=At.height-(i>>0)-(r>>0)-o.t-o.b;this.width=c||h?Math.min(p,s.width):p,this.height=l||f?Math.min(d,s.height):d,c&&h&&(this.left=Math.max((At.width-a.attr(z))/2,0)),l&&f&&(this.top=Math.max((At.height-a.attr(H))/2,0)),a.css(this)}),Qt.push("auto","margin",function(t){iGetConfigByArgs(t,"margins",arguments,0)});var Ot={l:0,t:0,r:0,b:0};function iTakeMovePositionName(t){return/bottom/.test(t)?"bottom":"top"}Qt.push("auto","inner",function(t,e,e,e,e,i,r,s){var a=t.room,o=function iPickInnerOffset(t,e){var i;isEmpty(i=t._offset__)&&(i=t._offset__={},iPicker(e,Gt,null,function iOffsetStep(t,e){if(!isNumber(e)){var i=this.host.find(e),n=iPaddings(i),r=function iMargins(t){return t.margins||(t.margins=t.css(M.replace(/padding/g,"margin"),F))}(i),s=function iWidthHeightBox(t){return t.WidthHeight||(t.WidthHeight=t.css("width=>left,width=>right,height=>top,height=>bottom",F))}(i);e=i.length?s[t]+(/left|right/.test(t)?r.l+r.r+n.l+n.r:r.t+r.b+n.t+n.b)>>0:0}this.box[t]=e>>0}.bind({box:i,host:t})));return i}(a,arguments);(function isStringBoolOrBoolean(t){return/^(?:true|false)$/.test(t)})(r)&&(s=r,r=n);var u="true"!=s,c={},h=iPaddings(a),l=a.iINNER||(a.iINNER=a.find(i)),f=a.is(i)?Ot:iPaddings(l),p=l.attr("scrollHeight")>>0,d=At.height-(r>>0),m=At.width-(r>>0),g=a.attr("scrollWidth")>>0,v=o.top+o.bottom+h.t+h.b+f.t+f.b,y=m-(h.l+h.r+o.left+o.right+f.l+f.r),k=(this.height||d)-v;c.width=m>=g&&u?"auto":y,c.height=p+v>d?Math.min(p,k):u?"auto":k,l.css(c)}),Qt.push("auto","center",function(t,e){/^true$/.test(e)&&iRepainting(t,!0)}),Qt.push("auto","animate",function(t,e,i,r){if(/^true$/.test(e)){if(iRepainting(t,t.isFree==n||!t.isFree),t.is1st!=n&&!t.is1st)return;var s={opacity:.7},a={opacity:1},o=iTakeMovePositionName(t.position);s[o]=i||"-=10",a[o]=r||"+=10",t.room.stop(!0,!0).css(s).animate(a)}}),i.exports=Qt});
!function(t,e){if(t.global=t,"object"==typeof exports);else if("function"==typeof define)define("ajax",e);else{var r={exports:{}};e(function(e){return t[e]||alert('需要实现 require(),加载模块:"'+e+'"')},r.exports,r),t.ajax=r.exports}}(this,function(t,e,r){for(var a,o=t("dialog"),n=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],s=0,c=n.length;s<c;s++)try{n[s]();break}catch(p){}e.httpRequest=n[s]||function(){alert("不支持AJAX!")};var i="",u=["GET","POST","OPTION"],l=/^(json[p]?|script)$/;function dataToUrl(t,e,r){if(!e)return t;var o,n,s=[];if("string"==typeof e)s.push(e);else for(var c in e)o=(n=e[c])===a?i:n,e.hasOwnProperty(c)&&s.push(c+"="+(r?o:encodeURIComponent(o)));return"{url}{has,has,}[arr]".format({url:t,has:t?["?","&"][+/\?/.test(t)]:"",arr:s.join("&")})}e._default={type:u[0],timeout:15e3,success:function(){},error:function(){},async:!0,data:{},dataType:"json"},e.worker=global.fetch?function _fetch(t){fetch(t.url,{method:t.type,headers:t.headers,body:t.body,mode:t.mode||"cors"}).then(function(e){e[t.dataType||"json"]().then(function(e){t.success(e)})["catch"](function(e){o.runer(t.fail,a,e)})})["catch"](function(e){o.runer(t.fail,a,e)})}:function _xhr(t){var e=this.httpRequest();e.open(t.type,t.url,t.async),o.each(t.headers,function(t,e,r){r.setRequestHeader(t,e)},e),e.onreadystatechange=function(r){var a=r&&r.target||e;4==a.readyState&&(clearTimeout(a.timeoutMark),delete a.timeoutMark,a.status>=200&&a.status<300||304===a.status||1223===a.status?t.success.call(a,function _ToScriptByType__(t,e){return l.test(t)?new Function("return "+e)():e}(t.dataType,a.response||a.responseText)):t.error.call(e))},e.timeoutMark=setTimeout(function(){delete e.timeoutMark,t.error.call(e)},t.timeout),e.send(t.body)},e.request=function(t){t.headers||delete t.headers,o.mix(t,this._default,{headers:{}}),/^jsonp$/.test(t.dataType)?function jsonp(t){var e=t.url,r=o.url2kv(e),a=r.jsonpcallback||r.callback,n="i{100-999}[now]".format(),s={jsonpcallback:n,callback:n};if(!a){var c={},i=t.jsonpcallback||t.jsonp||"callback";c[i]="?",e=dataToUrl(e,c,!0),s[i]=n}e=(e=dataToUrl(e,t.data)).format(s),window[n]=t.success;var u=setTimeout(function(){t.error({msg:"Time Is Out! {timeout}".format(t)}),l.remove()},t.timeout),l=o.query("script".buildHtml(!0));l.load(function(){clearTimeout(u),delete window[n],l.remove()}),l.error(function(e){clearTimeout(u),t.error({msg:"Load Module Err! {url}".format(t),data:e}),l.remove()}),l.appendTo("head").attr({src:e,type:"text/javascript"})}(t):function ajax(t){o.runer(t.init,t,t),t.type=(t.type||u[0]).toUpperCase();var e=/^get$/i.test(t.type),r=t.data;return t.url=dataToUrl(t.url,e?r:i,!0),/\[object (?:Object|String)]/.test(Object.prototype.toString.call(r))&&(o.merge(t.headers,{"Content-Type":"application/x-www-form-urlencoded"}),r=e?undefined:dataToUrl(i,r)),"string"==typeof t.headers&&(t.dataType=o.picker(t,"headers|dataType=>h").h,t.headers=o.picker({all:"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},"{headers}|all=>Accept".format(t))),t.body=r,this.worker(t)}.call(this,t)}});
!function(t,n){if(t.global=t,"object"==typeof exports);else if("function"==typeof define)define("string",n);else{var e={exports:{}};n(function(n){return t[n]||alert('需要实现 require(),加载模块:"'+n+'"')},e.exports,e),t.Strings=e.exports}}(this,function(t,n,e){var r="",i=[].slice;var o=function(t){return"[object String]"==function to(t){return s.toString.call(t)}(t)},s={},u=/((\d+)\-(\d+))/,a=/(?:\[(\w+)\]|\{(\w+)\}|\[([^\[\]\{\}'"]+)\]|{(\d+)\-(\d+)}|([\w$]+)(=)\?)|{([^,\}\{]+),([^,}]*),([^,}]*)}/g,p=/(?:,)/,f={now:function(){return+new Date}};function iReplace(t,n,e,i,s,u,a,f,l,c,h){var g,v=this._groups__;if(o(v)&&(v=this._groups__={}),v&&t in v)return v[t];if(/^\d+$/.test(s+u))return iBetween(s,u);if(l)return iStringFormat.call(this[l]?this[c]||c:this[h]||h,this);if(i)return(g=(i=i.split(p))[0])in this&&this[g]instanceof Function?this[i.shift()].apply(this,i):i[iBetween(0,i.length-1)];var _=e||n||a;return a||(a=r,f||(f=r)),this&&_?function isNil(t){return t===undefined}(g=this[_])?t:a+f+(g instanceof Function?g.call(this):g):(v[t]=t,t)}function iBetween(t,n,e){o(t)&&t.search(u)>=0&&(t=RegExp.$2,n=RegExp.$3,e=RegExp.$1);var r,i,s,a=arguments.callee||this,p=a.__tmap_||(a.__tmap_={});if(e&&(r=p[e]))return r;+t<+n?(i=+t,s=+n):(i=+n,s=+t);var f=s-i+1;return r=(1e6*Math.random()>>0)%f+i,e&&(p[e]=r),r}function iStringFormat(t){t||(t={});var n=!!t.now;!function merge(t,n,e,r){var o,s,u,a,p;for(s=(p=i.call(arguments)).pop(),p.push(s),/false|true/gi.test(s)||p.push(!1),s=p.pop(),u=p.pop();a=p.shift();)for(o in u)!s&&a.hasOwnProperty&&a.hasOwnProperty(o)||(a[o]=u[o])}(t,f),t._groups__={};var e=(this+r).replace(a,iReplace.bind(t));return delete t._groups__,n||delete t.now,e}function kv(t,n,e){return e||(e={}),n===undefined||(e[t]=n),kv}String.prototype.format||(String.prototype.format=iStringFormat),n.inner=iBetween,n.tokv=function(t){for(var n,e={},r=0,i=(t=t.split(/&|#|\?/g)).length;r<i;r++)(n=t[r].split(/=/))[2]=e,kv.apply(null,n);return e},n.kv2url=function(t){var n=[];for(var e in t)n.push(e+"="+encodeURIComponent(t[e]));return n.join("&")}});
var HOST,_ARGS=Strings.tokv(location.href);_ARGS.online===undefined||1==_ARGS.online?(_ARGS.online=1,HOST="https://api.taoshuxiaoshuo.com"):HOST=3==+_ARGS.online?"https://papi.taoshuxiaoshuo.com:8892":"http://t.api.taoshuxiaoshuo.com",window.android=dialog.picker(window,"android|hongdouAd=>android").android;var Global=this;Global.NEED=function(o,e){dialog.notice("缺失:[0]{[1],:[1],}".format(arguments),7)};var CONFIG={HOST:HOST,ACTIVE_ID:"1000",online:_ARGS.online};dialog.merge(CONFIG,dialog.picker(_ARGS,"codeid=>ACTIVE_ID"),!0);var FUNC_NAME="CallBack_{now}_{100-999}_{100-999}";function _UserInfo(o,e){var n=FUNC_NAME.format();window[n]=function(e){delete window[n],dialog.runer(o,null,e)};try{android.getUser(n)}catch(t){window.android||dialog.runer(window[n],null,{}),delete window[n],dialog.runer(e,null,{msg:"调起登录"})}}var Nil,SPACE="";function dataToUrl(o,e,n){if(!e)return o;var t,a,r=[];if("string"==typeof e)r.push(e);else for(var i in e)t=(a=e[i])===Nil?SPACE:a,e.hasOwnProperty(i)&&r.push(i+"="+(n?t:encodeURIComponent(t)));return"{url}{has,has,}[arr]".format({url:o,has:o?["?","&"][+/\?/.test(o)]:"",arr:r.join("&")})}function _Request(o,e,n,t,a){var r=/post/i.test(t);try{r?RunOSfx("requestPost",o.format(CONFIG),a,e,n):(a&&(o=dataToUrl(o,a)),RunOSfx("request",o.format(CONFIG),e,n))}catch(i){window.android?dialog.notice("请求异常",7,"center top").bg.remove():ajax.request({url:o.format(CONFIG),type:r?t:"get",data:r?body:null,dataType:"json",processData:!1,contentType:!1,success:function(o){dialog.runer(e,null,o)},error:function(o){dialog.runer(n,null,o)}})}}function _Tips(o){try{android.toast(o)}catch(e){dialog.notice(o||"异常",2,"left top").bg.remove()}}function LOG(o){try{android.uploadEvent(JSON.stringify(o))}catch(e){}}function cookieget(o,e){var n=document.cookie.match(new RegExp("(^| )"+o+"=([^;]*)(;|$)"));return null!=n?unescape(n[2]):e}function cookieset(o,e,n,t){try{document.cookie="[name]=[value][exp,;expires=?,][dm,;domain=?,]".format({name:o,value:escape(e),t:n,domain:t,expires:function(){var o=new Date;return o.setTime(+o+24*this.t*60*60*1e3),o.toGMTString()},exp:function(o,e){return this.t==undefined?e:o.format(this)},dm:function(o,e){return this.domain==undefined?e:o.format(this)}})}catch(a){console.log("[name] [message]".format(a))}}var UUID="UUID";cookieget(UUID)||cookieset(UUID,"USER[now]{100000-999999}".format());var logurl="//report.taoshuxiaoshuo.com:{https,8067,8068}/report/proxy/main?platform={platform,platform,wwa1}&plattype={plattype,plattype,aphone}&version={version,version,0}&logpoint=h5&event=?&action=?&channel=?&env=?&novel_code=?&page=?&uuid=?&novel_name=?&chapter_id=?&ts=[now]",logDefaultData={https:/^https/.test(location.protocol),platform:_ARGS.platform,plattype:_ARGS.plattype,chapter_id:"0",novel_name:"",uuid:cookieget(UUID),novel_code:_ARGS.novel_code,env:1!=_ARGS.online?"dev":""};function _log__(o){try{dialog.merge(o,logDefaultData);var e=logurl.format(o);(new Image).src=e}catch(n){}}function _Log(o){try{var e=(o=dialog.picker(o,"novel_code,name;chapter_name=>novel_name,chapter_num=>chapter_id,active,event")).event||"",n=o.action||"",t=o.channel||"";_log__({novel_code:o.novel_code,novel_name:o.novel_name,chapter_id:o.chapter_id||"0",action:n,event:e,channel:t,page:o.category===undefined?"":"detail"==o.category?"h5_detail":"js_reader"})}catch(a){}}function iList2Array(o){return Array.apply(Nil,o)}function RunOSfx(o){var e,n=FUNC_NAME.format(),t=iList2Array(arguments);o=t.shift();for(var a,r=[],i=2;i--;){if(!((a=t.pop())instanceof Function)){t.push(a),r.length?r.push(null):r.unshift(null);break}r.unshift(a)}var l=r.pop(),u=r.pop(),d=t.pop();!0===d||(t.push(d),d=!1),window[n]=function(o){return clearTimeout(e),delete window[n],dialog.runer(u,null,o)},e=setTimeout(function(){dialog.runer(l,Nil,{msg:"time out!"})},15e3),d||t.push(n),t.unshift(dialog.picker(window,"android.{name}|hongdouAd.{name}|Global.NEED=>run".format({name:o})).run,android),dialog.runer.apply(Nil,t)}dialog.push("auto","show",function(o,e,n){o.room.stop(!0,!0).css({top:e||"+=10"}).stop(!0,!0).animate({top:n||"-=10",opacity:1},100)});